function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,o){return e&&_defineProperties(n.prototype,e),o&&_defineProperties(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{DNuw:function(n,e,o){"use strict";o.r(e),o.d(e,"RegistrationPageModule",(function(){return M}));var t=o("ofXK"),i=o("3Pt+"),a=o("TEn/"),r=o("tyNb"),s=o("X7yx"),c=o("5dVO"),l=o("riPR"),d=o("ZJFI"),f=o("1vjY"),b=o("fXoL"),m=o("tk/3");function p(n,e){1&n&&(b.Ob(0,"div",30),b.mc(1," PLEASE WAIT\xa0\xa0"),b.Mb(2,"ion-spinner",31),b.Nb())}function u(n,e){1&n&&(b.Ob(0,"div",30),b.mc(1," REGISTER "),b.Nb())}function g(n,e){if(1&n&&(b.Ob(0,"ion-row",32),b.Ob(1,"ion-col",33),b.mc(2),b.Nb(),b.Nb()),2&n){var o=b.Yb();b.Ab(1),b.Cb(o.internet_background),b.Ab(1),b.oc(" ",o.internet_text," ")}}var h,_,v,k=function(n){return n[n.Online=0]="Online",n[n.Offline=1]="Offline",n}({}),O=[{path:"",component:(h=function(){function n(e,o,t,i,a,r,s,c,l,d,f,b,m){_classCallCheck(this,n),this.platform=e,this.navCtrl=o,this.menu=t,this.modalCtrl=i,this.loadingCtrl=a,this.actionSheetCtrl=r,this.zone=s,this.http=c,this.events=l,this.ionLoader=d,this.ionAlert=f,this.database=b,this.atom=m,this.btn_isclicked=!1,this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.device_details={app_name:"",package_name:"",version_code:"",version_number:"",cordova:"",model:"",platform:"",uuid:"",imei:"",imsi:"",iccid:"",mac:"",version:"",manufacturer:"",is_virtual:!1,serial:"",memory:0,cpumhz:"",totalstorage:"",registered_account:"",user_agent:""},this.registration_form={action:"registration",firstname:"",lastname:"",mobile:"",email:"",password:"",avatar:"",confirmpwd:"",device_info:""},this.avatarThumb="assets/images/camera.png",this.internet_indicator=!1,this.menu.enable(!1),this.initializeApp()}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"initializeApp",value:function(){var n=this;this.platform.ready().then((function(e){window.addEventListener("online",(function(){n.internetStatus=k.Online,n.zone.run((function(){n.internet_background="int-green",n.internet_text="YOU ARE ONLINE"})),n.internet_timer=setTimeout((function(){n.zone.run((function(){n.internet_indicator=!1}))}),1e4)})),window.addEventListener("offline",(function(){n.internetStatus=k.Offline,n.zone.run((function(){n.internet_background="int-red",n.internet_text="YOU ARE OFFLINE",n.internet_indicator=!0}))}))}))}},{key:"ionViewWillLeave",value:function(){1==this.action_sheet_status&&this.action_sheet.dismiss()}},{key:"ionViewDidLoad",value:function(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline"),clearTimeout(this.internet_timer)}catch(n){}}},{key:"create_file_name",value:function(n){return(new Date).getTime()+n.substr(n.lastIndexOf("."))}},{key:"change_listener",value:function(n){var e=this;this.ionLoader.showLoader().then((function(){if(n.target.files&&n.target.files[0]){var o=new FileReader;o.onload=function(n){e.avatarThumb=n.target.result},o.readAsDataURL(n.target.files[0])}e.file=n.target.files[0];var t=new FormData,i=e.create_file_name(e.file.name);t.append("image",e.file),t.append("file_name",e.create_file_name(i)),e.registration_form.avatar=i;var a=e.atom.getapi()+"upload_web";e.http.post(a,t,{}).subscribe((function(n){e.ionLoader.hideLoader()}),(function(n){e.atom.presentToast(n)}))})).catch((function(){}))}},{key:"register",value:function(n){var e=this;!1===this.btn_isclicked&&(""==this.registration_form.firstname?this.atom.presentToast("First Name Is Required"):""==this.registration_form.lastname?this.atom.presentToast("Last Name Is Required"):""==this.registration_form.mobile?this.atom.presentToast("Mobile Is Required"):10!==this.registration_form.mobile.length?this.atom.presentToast("Mobile number required atleast 10 digit"):""==this.registration_form.email?this.atom.presentToast("Email Address Is Required"):""==this.registration_form.password?this.atom.presentToast("Password Is Required"):""==this.registration_form.confirmpwd?this.atom.presentToast("Confirm Password Is Required"):this.registration_form.password!==this.registration_form.confirmpwd?this.atom.presentToast("Password Mismatch"):(this.btn_isclicked=!0,n.valid?this.ionLoader.showLoader().then((function(){e.atom.http_post(e.registration_form).subscribe((function(n){1==n.success?(e.ionLoader.hideLoader(),e.json_profile.user_id=n.user_id,e.json_profile.company_id=n.company_id,e.json_profile.company_name=n.company_name,e.json_profile.first_name=n.firstname,e.json_profile.last_name=n.lastname,e.json_profile.fullname=n.firstname+" "+n.lastname,e.json_profile.email=n.email,e.json_profile.mobile=n.mobile,e.json_profile.photo=n.avatar,e.json_profile.co_photo=n.co_logo,e.json_profile.otp_pending=n.otp_pending,e.json_profile.otc_pending=n.otc_pending,e.json_profile.co_pending=n.co_pending,e.json_profile.token_no=n.token_no,e.json_profile.payload=n.payload,e.json_profile.webauto_login=n.webauto_login,e.atom.setProfile(e.json_profile),e.events.publish("GLOBAL_VAR",e.json_profile),e.atom.presentToast(n.message),e.btn_isclicked=!1,e.navCtrl.navigateRoot("/verification")):(e.ionLoader.hideLoader(),e.btn_isclicked=!1,e.atom.presentToast(n.message))}),(function(n){e.ionLoader.hideLoader(),e.btn_isclicked=!1}),(function(){e.ionLoader.hideLoader(),e.btn_isclicked=!1}))})).catch((function(){e.btn_isclicked=!1})):(this.btn_isclicked=!1,this.atom.presentToast("Application Error - Form Validate Failed"))))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss({dismissed:!0})}}]),n}(),h.\u0275fac=function(n){return new(n||h)(b.Lb(a.T),b.Lb(a.S),b.Lb(a.Q),b.Lb(a.R),b.Lb(a.P),b.Lb(a.a),b.Lb(b.z),b.Lb(m.a),b.Lb(l.a),b.Lb(c.a),b.Lb(s.a),b.Lb(d.a),b.Lb(f.a))},h.\u0275cmp=b.Fb({type:h,selectors:[["app-registration"]],decls:52,vars:11,consts:[[1,"ion-no-border","ion-no-shadow"],["slot","start"],["defaultHref","login",1,"custom-back-button"],["padding",""],[1,"profile-section"],["method","post"],["RegistrationForm","ngForm"],[1,"avatar-container"],["type","file","accept","image/*","id","file_input_avatar",2,"opacity","0",3,"change"],["alt","",1,"avatar-img",3,"src"],[1,"ion-no-padding","ion-no-margin"],["position","stacked",1,"label"],["type","text","placeholder","","name","firstname","spellcheck","false","autocomplete","off","autocorrect","off","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["firstname","ngModel"],["type","text","placeholder","","name","lastname","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["lastname","ngModel"],["type","tel","placeholder","","name","mobile","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","minlength","10","maxlength","10","pattern","[0-9]*","required","",1,"form-input",3,"ngModel","ngModelChange"],["mobile","ngModel"],["type","email","placeholder","","name","email","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["email","ngModel"],["type","password","placeholder","","name","password","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["password","ngModel"],["type","password","placeholder","","name","confirmpwd","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["confirmpwd","ngModel"],[1,"ion-no-padding","continue-padding"],["size","large","fill","solid","expand","block",1,"profile-button",3,"disabled","click"],["class","center-vertical-horizontal",4,"ngIf"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],[1,"ion-no-margin","ion-no-padding"],["class","ion-no-margin ion-no-padding","internet-container","",4,"ngIf"],[1,"center-vertical-horizontal"],[1,"button-spinner"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(n,e){if(1&n){var o=b.Pb();b.Ob(0,"ion-header",0),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-buttons",1),b.Mb(3,"ion-back-button",2),b.Nb(),b.Ob(4,"ion-title"),b.mc(5,"Sign Up"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-content",3),b.Ob(7,"div",4),b.Ob(8,"form",5,6),b.Ob(10,"ion-list"),b.Ob(11,"div",7),b.Ob(12,"input",8),b.Wb("change",(function(n){return e.change_listener(n)})),b.Nb(),b.Ob(13,"ion-avatar"),b.Mb(14,"img",9),b.Nb(),b.Nb(),b.Ob(15,"ion-item",10),b.Ob(16,"ion-label",11),b.mc(17,"First Name"),b.Nb(),b.Ob(18,"ion-input",12,13),b.Wb("ngModelChange",(function(n){return e.registration_form.firstname=n})),b.Nb(),b.Nb(),b.Ob(20,"ion-item",10),b.Ob(21,"ion-label",11),b.mc(22,"Last Name"),b.Nb(),b.Ob(23,"ion-input",14,15),b.Wb("ngModelChange",(function(n){return e.registration_form.lastname=n})),b.Nb(),b.Nb(),b.Ob(25,"ion-item",10),b.Ob(26,"ion-label",11),b.mc(27,"Mobile No."),b.Nb(),b.Ob(28,"ion-input",16,17),b.Wb("ngModelChange",(function(n){return e.registration_form.mobile=n})),b.Nb(),b.Nb(),b.Ob(30,"ion-item",10),b.Ob(31,"ion-label",11),b.mc(32,"Email Address"),b.Nb(),b.Ob(33,"ion-input",18,19),b.Wb("ngModelChange",(function(n){return e.registration_form.email=n})),b.Nb(),b.Nb(),b.Ob(35,"ion-item",10),b.Ob(36,"ion-label",11),b.mc(37,"Password"),b.Nb(),b.Ob(38,"ion-input",20,21),b.Wb("ngModelChange",(function(n){return e.registration_form.password=n})),b.Nb(),b.Nb(),b.Ob(40,"ion-item",10),b.Ob(41,"ion-label",11),b.mc(42,"Confirm Password"),b.Nb(),b.Ob(43,"ion-input",22,23),b.Wb("ngModelChange",(function(n){return e.registration_form.confirmpwd=n})),b.Nb(),b.Nb(),b.Nb(),b.Ob(45,"div",24),b.Ob(46,"ion-button",25),b.Wb("click",(function(){b.gc(o);var n=b.fc(9);return e.register(n)})),b.lc(47,p,3,0,"div",26),b.lc(48,u,2,0,"div",26),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(49,"ion-footer",27),b.Ob(50,"ion-grid",28),b.lc(51,g,3,3,"ion-row",29),b.Nb(),b.Nb()}2&n&&(b.Ab(14),b.bc("src",e.avatarThumb,b.ic),b.Ab(4),b.bc("ngModel",e.registration_form.firstname),b.Ab(5),b.bc("ngModel",e.registration_form.lastname),b.Ab(5),b.bc("ngModel",e.registration_form.mobile),b.Ab(5),b.bc("ngModel",e.registration_form.email),b.Ab(5),b.bc("ngModel",e.registration_form.password),b.Ab(5),b.bc("ngModel",e.registration_form.confirmpwd),b.Ab(3),b.bc("disabled",e.btn_isclicked),b.Ab(1),b.bc("ngIf",e.btn_isclicked),b.Ab(1),b.bc("ngIf",!e.btn_isclicked),b.Ab(3),b.bc("ngIf",e.internet_indicator))},directives:[a.q,a.M,a.i,a.e,a.f,a.L,a.m,i.r,i.k,i.l,a.w,a.d,a.u,a.v,a.t,a.W,i.p,i.j,i.m,i.h,i.g,i.n,a.h,t.i,a.o,a.p,a.F,a.B,a.l],styles:[".custom-back-button[_ngcontent-%COMP%]{color:#fff;display:inline}.profile-section[_ngcontent-%COMP%]{padding:10px}.continue-padding[_ngcontent-%COMP%]{margin:20px 0 0}.profile-button[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.4rem;font-weight:400;text-transform:none;--box-shadow:none;--border-radius:0px;--background:var(--ion-color-primary);--background-focused:var(--ion-color-primary);--background-hover:var(--ion-color-primary);--color:var(--ion-color-primary-contrast)}.form-input[_ngcontent-%COMP%]{width:100%;height:auto;overflow:hidden;background-color:#f2f4f6;border:none!important;margin:13px 0 0;border-radius:0;-moz-border-radius:0;-o-border-radius:0;-webkit-border-radius:0;font-size:14px;padding:0 5px!important;color:#3e4d55;font-weight:400}ion-item[_ngcontent-%COMP%]{padding:0 0 2px;--ion-safe-area-right:0;--background-activated:var(--ion-text-color);--background-focused:var(--ion-text-color);--background-hover:var(--ion-text-color);--highlight-color-focused:none!important}ion-item[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]:hover{--color:var(--ion-color-dark-black)}ion-item[_ngcontent-%COMP%]:hover{--border-color:var(--ion-color-input-background);--highlight-color-focused:var(--ion-color-input-background);--background-focused:var(--ion-color-input-background);--background-hover:var(--ion-color-input-background)}ion-label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif!important;font-size:16px!important;font-weight:400!important;line-height:35px!important;--color:var(--ion-color-dark-black)!important}.item-has-focus[_ngcontent-%COMP%]   .label-stacked[_ngcontent-%COMP%]{color:var(--ion-color-dark-black)!important}.avatar-container[_ngcontent-%COMP%]{display:flex;padding-top:13px;text-align:center;border:none!important;height:125px}.avatar-img[_ngcontent-%COMP%], ion-avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}ion-avatar[_ngcontent-%COMP%]{background-color:#f2f4f6}#file_input_avatar[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;width:100%;height:125px;left:0;z-index:999}.center-vertical-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button-spinner[_ngcontent-%COMP%]{display:flex}"]}),h)}],w=((v=function n(){_classCallCheck(this,n)}).\u0275mod=b.Jb({type:v}),v.\u0275inj=b.Ib({factory:function(n){return new(n||v)},imports:[[r.i.forChild(O)],r.i]}),v),M=((_=function n(){_classCallCheck(this,n)}).\u0275mod=b.Jb({type:_}),_.\u0275inj=b.Ib({factory:function(n){return new(n||_)},imports:[[t.b,i.f,a.N,w]]}),_)}}]);