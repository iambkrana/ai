function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,o){return e&&_defineProperties(n.prototype,e),o&&_defineProperties(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{X3zk:function(n,e,o){"use strict";o.r(e),o.d(e,"LoginPageModule",(function(){return L}));var t=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),a=o("tyNb"),s=o("mrSG"),c=o("kwrG"),l=o("1vjY"),d=o("X7yx"),u=o("5dVO"),g=o("riPR"),b=o("ZJFI"),f=o("M39V"),p=o("fXoL");function m(n,e){1&n&&(p.Ob(0,"div",24),p.mc(1," PLEASE WAIT\xa0\xa0"),p.Mb(2,"ion-spinner",25),p.Nb())}function _(n,e){1&n&&(p.Ob(0,"div",24),p.mc(1," SIGN IN "),p.Nb())}function h(n,e){if(1&n&&(p.Ob(0,"ion-row",26),p.Ob(1,"ion-col",27),p.mc(2),p.Nb(),p.Nb()),2&n){var o=p.Yb();p.Ab(1),p.Cb(o.internet_background),p.Ab(1),p.oc(" ",o.internet_text," ")}}var v,k,w,O=function(n){return n[n.Online=0]="Online",n[n.Offline=1]="Offline",n}({}),y=[{path:"",component:(v=function(){function n(e,o,t,i,r,a,s,c,l,d){_classCallCheck(this,n),this.platform=e,this.menu=o,this.navCtrl=t,this.network=i,this.zone=r,this.events=a,this.ionLoader=s,this.ionAlert=c,this.database=l,this.atom=d,this.btn_isclicked=!1,this.internet_indicator=!1,this.login_form={action:"login",email:"",password:"",device_info:""},this.device_details={app_name:"Awarathon",package_name:"com.awarathon.awarathon",version_code:"1",version_number:"1.0",cordova:"",model:"",platform:"Web",uuid:"",imei:"",imsi:"",iccid:"",mac:"",version:"",manufacturer:"",is_virtual:1,serial:"",memory:0,cpumhz:"",totalstorage:"",registered_account:"",user_agent:"",ip_address:"",latitude:"",longitude:"",browser_agent:"",time_open:"",organisation:""},this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.json_useragent="",this.menu.enable(!1),this.initializeApp()}return _createClass(n,[{key:"ionViewDidLeave",value:function(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline"),clearTimeout(this.internet_timer)}catch(n){}}},{key:"ngOnInit",value:function(){}},{key:"initializeApp",value:function(){var n=this;this.platform.ready().then((function(e){var o={timeOpened:new Date,timezone:(new Date).getTimezoneOffset()/60,pageon:function(){return window.location.pathname},referrer:function(){return document.referrer},previousSites:function(){return this.history.length},browserName:function(){return navigator.appName},browserEngine:function(){return navigator.product},browserVersion1a:function(){return navigator.appVersion},browserVersion1b:function(){return navigator.userAgent},browserLanguage:function(){return navigator.language},browserOnline:function(){return navigator.onLine},browserPlatform:function(){return navigator.platform},javaEnabled:function(){return navigator.javaEnabled()},dataCookiesEnabled:function(){return navigator.cookieEnabled},dataCookies1:function(){return document.cookie},dataStorage:function(){return localStorage}};n.device_details.time_open=o.timeOpened.toString(),n.device_details.version=o.browserVersion1a(),n.device_details.manufacturer=o.browserPlatform(),n.device_details.mac="",n.device_details.browser_agent=o.browserVersion1b(),window.addEventListener("online",(function(){n.internetStatus=O.Online,n.zone.run((function(){n.internet_background="int-green",n.internet_text="YOU ARE ONLINE"})),n.internet_timer=setTimeout((function(){n.zone.run((function(){n.internet_indicator=!1}))}),1e4)})),window.addEventListener("offline",(function(){n.internetStatus=O.Offline,n.zone.run((function(){n.internet_background="int-red",n.internet_text="YOU ARE OFFLINE",n.internet_indicator=!0}))}))}))}},{key:"signin",value:function(n){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.btn_isclicked){e.next=26;break}return o=!1,e.prev=2,e.next=5,f.parse(window.navigator.userAgent);case 5:if(this.temp_useragent=e.sent,!(Object.keys(this.temp_useragent).length>0)){e.next=19;break}return e.next=9,this.temp_useragent.os.name.toLocaleLowerCase();case 9:return t=e.sent,e.next=12,this.temp_useragent.platform.type.toLocaleLowerCase();case 12:return e.next=14,this.temp_useragent.browser.name.toLocaleLowerCase();case 14:return"ios"!=t&&"macos"!=t||(this.json_useragent="ios"),e.next=17,this.database.storage_set("useragent",this.json_useragent).then((function(n){return Object(s.a)(i,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.database.storage_get("useragent").then((function(n){o=!0})).catch((function(n){o=!1}));case 2:case"end":return n.stop()}}),n,this)})))})).catch((function(n){o=!1}));case 17:e.next=20;break;case 19:o=!1;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),o=!1;case 25:0==o?this.atom.presentToast("System parameter missing, Please contact administrator."):""==this.login_form.email?this.atom.presentToast("Email Address Is Required"):""==this.login_form.password?this.atom.presentToast("Password Is Required"):(this.btn_isclicked=!0,n.valid&&this.ionLoader.showLoader().then((function(){i.login_form.device_info=JSON.stringify(i.device_details),i.atom.http_post(i.login_form).subscribe((function(n){1==n.success?(i.json_profile.user_id=n.user_id,i.json_profile.company_id=n.company_id,i.json_profile.company_name=n.company_name,i.json_profile.first_name=n.firstname,i.json_profile.last_name=n.lastname,i.json_profile.fullname=n.firstname+" "+n.lastname,i.json_profile.email=n.email,i.json_profile.mobile=n.mobile,i.json_profile.photo=n.avatar,i.json_profile.co_photo=n.co_logo,i.json_profile.otp_pending=n.otp_pending,i.json_profile.otc_pending=n.otc_pending,i.json_profile.co_pending=n.co_pending,i.json_profile.token_no=n.token_no,i.json_profile.payload=n.payload,i.json_profile.webauto_login=n.webauto_login,i.json_profile.default_dboard_tab=n.default_dboard_tab,i.atom.setProfile(i.json_profile),i.events.publish("PUBLISH_JSON_PROFILE",i.json_profile),i.database.storage_set("device",i.json_profile).then((function(e){i.database.storage_get("device").then((function(e){e.token_no&&e.payload?(i.database.authentication_set(!0),i.ionLoader.hideLoader(),i.btn_isclicked=!1,1==n.co_pending||""==n.company_id?i.navCtrl.navigateRoot("/verification"):1==n.otp_pending?i.navCtrl.navigateRoot("/otp"):"0"==i.json_profile.default_dboard_tab||0==parseFloat(i.json_profile.default_dboard_tab)?i.navCtrl.navigateRoot("/dashboard/workshop-live"):i.navCtrl.navigateRoot("/go-live/assessment-live")):(i.database.authentication_set(!1),i.btn_isclicked=!1,i.navCtrl.navigateRoot("/login"))})).catch((function(n){i.btn_isclicked=!1}))})).catch((function(n){i.btn_isclicked=!1}))):(i.ionLoader.hideLoader(),i.btn_isclicked=!1,i.atom.presentToast(n.message))}),(function(n){i.ionLoader.hideLoader(),i.btn_isclicked=!1}),(function(){i.ionLoader.hideLoader(),i.btn_isclicked=!1}))})).catch((function(){i.btn_isclicked=!1})));case 26:case"end":return e.stop()}}),e,this,[[2,22]])})))}},{key:"route_registration",value:function(){this.navCtrl.navigateForward("/registration")}},{key:"route_forgot",value:function(){this.navCtrl.navigateForward("/forgot")}}]),n}(),v.\u0275fac=function(n){return new(n||v)(p.Lb(r.T),p.Lb(r.Q),p.Lb(r.S),p.Lb(c.a),p.Lb(p.z),p.Lb(g.a),p.Lb(u.a),p.Lb(d.a),p.Lb(b.a),p.Lb(l.a))},v.\u0275cmp=p.Fb({type:v,selectors:[["app-login"]],decls:35,vars:6,consts:[["slot","fixed"],[1,"form"],[1,"ion-justify-content-center"],["size-md","12","size-lg","12","size-xs","12",1,"ion-align-self-center"],[1,"ion-padding"],["alt","","src","assets/images/logo.png",1,"logo-img"],["size-md","6","size-lg","5","size-xs","12",1,"ion-align-self-start"],["method","post"],["LoginForm","ngForm"],["position","stacked"],["type","email","name","email","placeholder","Your email address","minlength","0","maxlength","255","value","","spellcheck","false","autocapitalize","off","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["type","password","name","password","placeholder","","minlength","0","maxlength","20","value","","spellcheck","false","autocapitalize","off","required","",3,"ngModel","ngModelChange","keyup.enter"],["password","ngModel"],[1,"ion-padding","continue-padding"],["size","large","fill","solid","expand","block",1,"login-button",3,"disabled","click"],["class","center-vertical-horizontal",4,"ngIf"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],[1,"ion-no-margin","ion-no-padding"],["class","ion-no-margin ion-no-padding","internet-container","",4,"ngIf"],[1,"no-padding","no-margin"],["col-6","",1,"btn-registration",3,"click"],[1,"normal-text","disabled-text"],["col-6","",1,"btn-signin",3,"click"],[1,"center-vertical-horizontal"],[1,"button-spinner"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(n,e){if(1&n){var o=p.Pb();p.Ob(0,"ion-content",0),p.Ob(1,"ion-grid",1),p.Ob(2,"ion-row",2),p.Ob(3,"ion-col",3),p.Ob(4,"div",4),p.Mb(5,"ion-img",5),p.Nb(),p.Nb(),p.Ob(6,"ion-col",6),p.Ob(7,"form",7,8),p.Ob(9,"div",4),p.Ob(10,"ion-label",9),p.mc(11,"Email Address"),p.Nb(),p.Ob(12,"ion-item"),p.Ob(13,"ion-input",10,11),p.Wb("ngModelChange",(function(n){return e.login_form.email=n})),p.Nb(),p.Nb(),p.Nb(),p.Ob(15,"div",4),p.Ob(16,"ion-label",9),p.mc(17,"Password"),p.Nb(),p.Ob(18,"ion-item"),p.Ob(19,"ion-input",12,13),p.Wb("ngModelChange",(function(n){return e.login_form.password=n}))("keyup.enter",(function(){p.gc(o);var n=p.fc(8);return e.signin(n)})),p.Nb(),p.Nb(),p.Nb(),p.Ob(21,"div",14),p.Ob(22,"ion-button",15),p.Wb("click",(function(){p.gc(o);var n=p.fc(8);return e.signin(n)})),p.lc(23,m,3,0,"div",16),p.lc(24,_,2,0,"div",16),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(25,"ion-footer",17),p.Ob(26,"ion-grid",18),p.lc(27,h,3,3,"ion-row",19),p.Ob(28,"ion-row",20),p.Ob(29,"ion-col",21),p.Wb("click",(function(){return e.route_registration()})),p.Ob(30,"a",22),p.mc(31,"Create Account"),p.Nb(),p.Nb(),p.Ob(32,"ion-col",23),p.Wb("click",(function(){return e.route_forgot()})),p.Ob(33,"a",22),p.mc(34,"Forgot Password?"),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb()}2&n&&(p.Ab(13),p.bc("ngModel",e.login_form.email),p.Ab(6),p.bc("ngModel",e.login_form.password),p.Ab(3),p.bc("disabled",e.btn_isclicked),p.Ab(1),p.bc("ngIf",e.btn_isclicked),p.Ab(1),p.bc("ngIf",!e.btn_isclicked),p.Ab(3),p.bc("ngIf",e.internet_indicator))},directives:[r.m,r.p,r.B,r.l,r.s,i.r,i.k,i.l,r.v,r.u,r.t,r.W,i.h,i.g,i.p,i.j,i.m,r.h,t.i,r.o,r.F],styles:["ion-content[_ngcontent-%COMP%]{--overflow:hidden}ion-grid[_ngcontent-%COMP%]{width:100%;background:var(--ion-color-primary-contrast)}ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{height:100%}ion-col[_ngcontent-%COMP%]{background:#fff}ion-label[_ngcontent-%COMP%]{font-family:Roboto!important;font-size:14px;font-weight:400;line-height:35px;color:#232323!important}ion-item[_ngcontent-%COMP%]{--background:var(--ion-color-input-background);--background-activated:var(--ion-color-input-background);--border-radius:2px;--color:#232323;--highlight-color-valid:var(--ion-color-success);--highlight-color-invalid:var(--ion-color-danger);--min-height:40px}ion-item[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]:hover{--highlight-color-focused:var(--ion-color-input-background);--background-focused:var(--ion-color-input-background);--background-hover:var(--ion-color-input-background);--border-color:var(--ion-color-input-background)}.continue-padding[_ngcontent-%COMP%]{padding-top:0}.login-button[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.4rem;font-weight:400;text-transform:none;--box-shadow:none;--border-radius:0px;--background:var(--ion-color-primary);--background-focused:var(--ion-color-primary);--background-hover:var(--ion-color-primary);--color:var(--ion-color-primary-contrast)}.btn-registration[_ngcontent-%COMP%]{height:5rem;padding-top:15px;background-color:#92949c}.btn-signin[_ngcontent-%COMP%]{height:5rem;padding-top:15px;background-color:#54419a}.disabled-text[_ngcontent-%COMP%]{color:#fff}.normal-text[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;text-align:center;display:block}.logo-img[_ngcontent-%COMP%]{width:241px;height:auto;margin:0 auto}.center-vertical-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button-spinner[_ngcontent-%COMP%]{display:flex}"]}),v)}],C=((w=function n(){_classCallCheck(this,n)}).\u0275mod=p.Jb({type:w}),w.\u0275inj=p.Ib({factory:function(n){return new(n||w)},imports:[[a.i.forChild(y)],a.i]}),w),L=((k=function n(){_classCallCheck(this,n)}).\u0275mod=p.Jb({type:k}),k.\u0275inj=p.Ib({factory:function(n){return new(n||k)},imports:[[t.b,i.f,r.N,C]]}),k)}}]);