(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{kNxp:function(t,o,n){"use strict";n.r(o),n.d(o,"GraphTopicSubtopicIPageModule",(function(){return y}));var i=n("ofXK"),e=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),s=n("fXoL"),c=n("1vjY"),p=n("X7yx"),l=n("5dVO"),h=n("riPR"),b=n("ZJFI");const d=["reportContainer"];function _(t,o){1&t&&(s.Ob(0,"ion-row",12),s.Ob(1,"ion-col",13),s.mc(2," Overall Accuracy "),s.Nb(),s.Ob(3,"ion-col",14),s.mc(4," Rank "),s.Nb(),s.Nb())}function u(t,o){if(1&t&&(s.Ob(0,"ion-row",15),s.Ob(1,"ion-col",16),s.mc(2),s.Nb(),s.Ob(3,"ion-col",17),s.mc(4),s.Nb(),s.Nb()),2&t){const t=s.Yb();s.Ab(2),s.oc(" ",t.overallScoreBoard.accuracy," "),s.Ab(2),s.oc(" ",t.overallScoreBoard.rank," ")}}function f(t,o){if(1&t&&(s.Ob(0,"ion-row",18),s.Ob(1,"ion-col",19),s.mc(2),s.Nb(),s.Nb()),2&t){const t=s.Yb();s.Ab(1),s.Cb(t.internet_background),s.Ab(1),s.oc(" ",t.internet_text," ")}}var m=n("6n/F"),g=function(t){return t[t.Online=0]="Online",t[t.Offline=1]="Offline",t}({});const w=[{path:"",component:(()=>{class t{constructor(t,o,n,i,e,r,a,s,c,p,l){this.platform=t,this.menu=o,this.navCtrl=n,this.modalCtrl=i,this.zone=e,this.renderer=r,this.events=a,this.ionLoader=s,this.ionAlert=c,this.database=p,this.atom=l,this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.graph_topic_subtopic_form={action:"graph_user_topic_subtopic_accuracy",payload:"",workshop_id:"",workshop_session:"",graph_type:""},this.fullname="",this.overallScoreBoard={accuracy:"",rank:""},this.internet_indicator=!1,this.menu.enable(!0),this.hideForm=!1,this.hideScoreBoard=!1,this.initializeApp()}ngOnInit(){this.json_navparam=this.atom.navigation_param_get(),this.json_workshop_details=this.json_navparam.workshop_details,this.str_graph_type=this.json_navparam.graph_type,this.graph_topic_subtopic_form.graph_type=this.str_graph_type,this.graph_topic_subtopic_form.workshop_id=this.json_workshop_details.id,this.graph_topic_subtopic_form.workshop_session=this.json_workshop_details.workshop_session}initializeApp(){this.platform.ready().then(t=>{window.addEventListener("online",()=>{this.internetStatus=g.Online,this.zone.run(()=>{this.internet_background="int-green",this.internet_text="YOU ARE ONLINE"}),this.internet_timer=setTimeout(()=>{this.zone.run(()=>{this.internet_indicator=!1})},1e4)}),window.addEventListener("offline",()=>{this.internetStatus=g.Offline,this.zone.run(()=>{this.internet_background="int-red",this.internet_text="YOU ARE OFFLINE",this.internet_indicator=!0})}),this.database.storage_get("device").then(t=>{t.token_no&&t.payload&&(this.json_profile=t,this.graph_topic_subtopic_form.payload=t.payload,this.refresh_graph())}).catch(t=>{})})}ionViewDidLoad(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline"),clearTimeout(this.internet_timer)}catch(t){}}refresh_graph(){""==this.graph_topic_subtopic_form.payload||""==this.graph_topic_subtopic_form.workshop_id||""==this.graph_topic_subtopic_form.workshop_session?this.atom.presentToast("Invalid Token"):this.atom.http_post(this.graph_topic_subtopic_form).subscribe(t=>{if(1==t.success){this.renderer.setStyle(this.canvas.nativeElement,"display","block !important");let o=JSON.parse(t.dataset);this.overallScoreBoard.accuracy=t.wksh_accuracy,this.overallScoreBoard.rank=t.wksh_rank,m.chart(this.canvas.nativeElement,{chart:{type:"bar"},title:{text:" Workshop : "+this.json_workshop_details.workshop_name+"<br/> (Topic + Subtopic wise)",style:{fontSize:"12px",fontFamily:"Arial",fontWeight:"bold"}},subtitle:{text:""},xAxis:{categories:JSON.parse(t.categories),title:{text:"Topic+Subtopic wise"}},yAxis:{title:{text:"Overall Accuracy",align:"middle"},labels:{formatter:function(){return this.value+"%"},overflow:"justify"},max:100},tooltip:{valueSuffix:"%"},legend:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!0,format:"{point.y:.2f}%"}}},credits:{enabled:!1},series:[{name:"Accuracy",data:o,pointWidth:28,color:"#47cfad",dataLabels:{style:{fontWeight:"normal",textOutline:"0",color:"black",fontSize:"12px"}}}]}),this.hideScoreBoard=!0}else"NO_RESULT"==t.message||this.atom.presentToast(t.message)},t=>{},()=>{})}}return t.\u0275fac=function(o){return new(o||t)(s.Lb(r.T),s.Lb(r.Q),s.Lb(r.S),s.Lb(r.R),s.Lb(s.z),s.Lb(s.D),s.Lb(h.a),s.Lb(l.a),s.Lb(p.a),s.Lb(b.a),s.Lb(c.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-graph-topic-subtopic-i"]],viewQuery:function(t,o){var n;1&t&&s.qc(d,!0,s.l),2&t&&s.ec(n=s.Xb())&&(o.canvas=n.first)},decls:16,vars:3,consts:[[1,"ion-no-border","ion-no-shadow"],["slot","start"],["autoHide","false"],["slot","end",3,"click"],["slot","icon-only","name","settings",1,"fa","fa-refresh","lnr-font-size"],["id","reportContainer"],["reportContainer",""],["size","12","class","no-padmar score-main-wrapper",4,"ngIf"],["size","12","class","no-padmar value-main-wrapper",4,"ngIf"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],[1,"ion-no-margin","ion-no-padding"],["class","ion-no-margin ion-no-padding","internet-container","",4,"ngIf"],["size","12",1,"no-padmar","score-main-wrapper"],["size","6",1,"ion-text-center","score-title","right-border"],["size","6",1,"ion-text-center","score-title"],["size","12",1,"no-padmar","value-main-wrapper"],["size","6",1,"ion-text-center","score-value","right-border"],["size","6",1,"ion-text-center","score-value"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(t,o){1&t&&(s.Ob(0,"ion-header",0),s.Ob(1,"ion-toolbar"),s.Ob(2,"ion-buttons",1),s.Mb(3,"ion-menu-button",2),s.Nb(),s.Ob(4,"ion-buttons",3),s.Wb("click",(function(){return o.refresh_graph()})),s.Mb(5,"ion-icon",4),s.Nb(),s.Ob(6,"ion-title"),s.mc(7,"Topic + Sub Topic Wise Statistics"),s.Nb(),s.Nb(),s.Nb(),s.Ob(8,"ion-content"),s.Mb(9,"div",5,6),s.lc(11,_,5,0,"ion-row",7),s.lc(12,u,5,2,"ion-row",8),s.Nb(),s.Ob(13,"ion-footer",9),s.Ob(14,"ion-grid",10),s.lc(15,f,3,3,"ion-row",11),s.Nb(),s.Nb()),2&t&&(s.Ab(11),s.bc("ngIf",1==o.hideScoreBoard),s.Ab(1),s.bc("ngIf",1==o.hideScoreBoard),s.Ab(3),s.bc("ngIf",o.internet_indicator))},directives:[r.q,r.M,r.i,r.y,r.r,r.L,r.m,i.i,r.o,r.p,r.B,r.l],styles:["ion-menu-button[_ngcontent-%COMP%]{--color:var(--ion-color-primary-contrast)!important}.custom-back-button[_ngcontent-%COMP%]{color:#fff;display:inline}.lnr-font-size[_ngcontent-%COMP%]{font-size:1.5em;color:#232323;margin-right:5px!important}.chart-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.score-title[_ngcontent-%COMP%]{font-size:1em;font-weight:700;height:35px;padding:10px}.score-value[_ngcontent-%COMP%]{font-size:2em;font-weight:700;height:55px;padding:15px}.right-border[_ngcontent-%COMP%]{border-right:1px solid #dbdbdd}.score-main-wrapper[_ngcontent-%COMP%]{background-color:#fcfcfe;border-top:1px solid #dbdbdd}.score-main-wrapper[_ngcontent-%COMP%], .value-main-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid #dbdbdb;height:auto;overflow:hidden}.value-main-wrapper[_ngcontent-%COMP%]{background-color:#fff}"]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(o){return new(o||t)},imports:[[a.i.forChild(w)],a.i]}),t})(),y=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(o){return new(o||t)},imports:[[i.b,e.f,r.N,O]]}),t})()}}]);