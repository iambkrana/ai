(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{vfDb:function(o,i,n){"use strict";n.r(i),n.d(i,"InformationFormPageModule",(function(){return j}));var t=n("ofXK"),e=n("3Pt+"),a=n("TEn/"),r=n("tyNb"),s=n("mrSG"),l=n("X7yx"),m=n("5dVO"),d=n("riPR"),c=n("ZJFI"),f=n("1vjY"),b=n("fXoL"),p=n("tk/3");function _(o,i){1&o&&(b.Ob(0,"span",20),b.mc(1,"*"),b.Nb())}function h(o,i){if(1&o&&(b.Ob(0,"ion-item",9),b.Ob(1,"ion-label",17),b.mc(2),b.lc(3,_,2,0,"span",18),b.Nb(),b.Mb(4,"ion-input",19),b.Nb()),2&o){const o=b.Yb().$implicit;b.Ab(2),b.oc("",o.field_display_name," "),b.Ab(1),b.bc("ngIf","1"==o.is_required),b.Ab(1),b.bc("formControlName",o.field_name)}}function u(o,i){1&o&&(b.Ob(0,"span",20),b.mc(1,"*"),b.Nb())}function g(o,i){if(1&o&&(b.Ob(0,"ion-item",9),b.Ob(1,"ion-label",17),b.mc(2),b.lc(3,u,2,0,"span",18),b.Nb(),b.Mb(4,"ion-input",19),b.Nb()),2&o){const o=b.Yb().$implicit;b.Ab(2),b.oc("",o.field_display_name," "),b.Ab(1),b.bc("ngIf","1"==o.is_required),b.Ab(1),b.bc("formControlName",o.field_name)}}function y(o,i){1&o&&(b.Ob(0,"span",20),b.mc(1,"*"),b.Nb())}function O(o,i){if(1&o&&(b.Ob(0,"ion-item",9),b.Ob(1,"ion-label",17),b.mc(2),b.lc(3,y,2,0,"span",18),b.Nb(),b.Mb(4,"ion-input",21),b.Nb()),2&o){const o=b.Yb().$implicit;b.Ab(2),b.oc("",o.field_display_name," "),b.Ab(1),b.bc("ngIf","1"==o.is_required),b.Ab(1),b.bc("formControlName",o.field_name)}}function k(o,i){1&o&&(b.Ob(0,"span",20),b.mc(1,"*"),b.Nb())}function v(o,i){if(1&o&&(b.Ob(0,"ion-item",9),b.Ob(1,"ion-label",17),b.mc(2),b.lc(3,k,2,0,"span",18),b.Nb(),b.Mb(4,"ion-input",22),b.Nb()),2&o){const o=b.Yb().$implicit;b.Ab(2),b.oc("",o.field_display_name," "),b.Ab(1),b.bc("ngIf","1"==o.is_required),b.Ab(1),b.bc("formControlName",o.field_name)}}function w(o,i){1&o&&(b.Ob(0,"span",20),b.mc(1,"*"),b.Nb())}function N(o,i){if(1&o&&(b.Ob(0,"ion-option",25),b.mc(1),b.Nb()),2&o){const o=i.$implicit;b.bc("value",o),b.Ab(1),b.nc(o)}}function A(o,i){if(1&o&&(b.Ob(0,"ion-item",9),b.Ob(1,"ion-label",23),b.mc(2),b.lc(3,w,2,0,"span",18),b.Nb(),b.Ob(4,"ion-select",24),b.Ob(5,"ion-option",25),b.mc(6,"Please select"),b.Nb(),b.lc(7,N,2,2,"ion-option",26),b.Nb(),b.Nb()),2&o){const o=b.Yb().$implicit;b.Ab(2),b.oc("",o.field_display_name," "),b.Ab(1),b.bc("ngIf","1"==o.is_required),b.Ab(1),b.bc("formControlName",o.field_name),b.Ab(3),b.bc("ngForOf",o.default_value)}}function C(o,i){1&o&&(b.Ob(0,"span",20),b.mc(1,"*"),b.Nb())}function P(o,i){if(1&o&&(b.Ob(0,"ion-item",9),b.Ob(1,"ion-label",23),b.mc(2),b.lc(3,C,2,0,"span",18),b.Nb(),b.Mb(4,"ion-datetime",27),b.Nb()),2&o){const o=b.Yb().$implicit;b.Ab(2),b.oc("",o.field_display_name," "),b.Ab(1),b.bc("ngIf","1"==o.is_required),b.Ab(1),b.bc("formControlName",o.field_name)}}function q(o,i){1&o&&(b.Ob(0,"span",20),b.mc(1,"*"),b.Nb())}function M(o,i){if(1&o&&(b.Ob(0,"ion-item",9),b.Ob(1,"ion-label",23),b.mc(2),b.lc(3,q,2,0,"span",18),b.Nb(),b.Mb(4,"ion-datetime",28),b.Nb()),2&o){const o=b.Yb().$implicit;b.Ab(2),b.oc("",o.field_display_name," "),b.Ab(1),b.bc("ngIf","1"==o.is_required),b.Ab(1),b.bc("formControlName",o.field_name)}}function I(o,i){if(1&o&&(b.Ob(0,"ion-row",14),b.Ob(1,"ion-col",15),b.lc(2,h,5,3,"ion-item",16),b.lc(3,g,5,3,"ion-item",16),b.lc(4,O,5,3,"ion-item",16),b.lc(5,v,5,3,"ion-item",16),b.lc(6,A,8,4,"ion-item",16),b.lc(7,P,5,3,"ion-item",16),b.lc(8,M,5,3,"ion-item",16),b.Nb(),b.Nb()),2&o){const o=i.$implicit;b.Ab(2),b.bc("ngIf","alphanumeric"==o.field_type),b.Ab(1),b.bc("ngIf","text"==o.field_type),b.Ab(1),b.bc("ngIf","number"==o.field_type||"phone"==o.field_type||"mobile"==o.field_type),b.Ab(1),b.bc("ngIf","email"==o.field_type),b.Ab(1),b.bc("ngIf","dropdown"==o.field_type),b.Ab(1),b.bc("ngIf","date"==o.field_type),b.Ab(1),b.bc("ngIf","time"==o.field_type)}}function F(o,i){1&o&&(b.Ob(0,"div",32),b.mc(1," PLEASE WAIT\xa0\xa0"),b.Mb(2,"ion-spinner",33),b.Nb())}function x(o,i){1&o&&(b.Ob(0,"div",32),b.mc(1," SUBMIT "),b.Nb())}function z(o,i){if(1&o){const o=b.Pb();b.Ob(0,"div",29),b.Ob(1,"ion-button",30),b.Wb("click",(function(){return b.gc(o),b.Yb(2).submit()})),b.lc(2,F,3,0,"div",31),b.lc(3,x,2,0,"div",31),b.Nb(),b.Nb()}if(2&o){const o=b.Yb(2);b.Ab(1),b.bc("disabled",o.btn_isclicked),b.Ab(1),b.bc("ngIf",o.btn_isclicked),b.Ab(1),b.bc("ngIf",!o.btn_isclicked)}}function Y(o,i){if(1&o){const o=b.Pb();b.Ob(0,"ion-col",7),b.Ob(1,"form",8),b.Wb("ngSubmit",(function(){return b.gc(o),b.Yb().submit()})),b.Ob(2,"ion-list",9),b.Ob(3,"ion-item",10),b.Ob(4,"p",11),b.mc(5,"Please fill the below details."),b.Nb(),b.Nb(),b.lc(6,I,9,7,"ion-row",12),b.Nb(),b.lc(7,z,4,3,"div",13),b.Nb(),b.Nb()}if(2&o){const o=b.Yb();b.Ab(1),b.bc("formGroup",o.informationForm),b.Ab(5),b.bc("ngForOf",o.update_information_form.form_details),b.Ab(1),b.bc("ngIf",o.update_information_form.form_details.length>0)}}function L(o,i){if(1&o&&(b.Ob(0,"ion-footer",34),b.Ob(1,"ion-grid",35),b.Ob(2,"ion-row",36),b.Ob(3,"ion-col",37),b.mc(4),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&o){const o=b.Yb();b.Ab(3),b.Cb(o.internet_background),b.Ab(1),b.oc(" ",o.internet_text," ")}}var T=function(o){return o[o.Online=0]="Online",o[o.Offline=1]="Offline",o}({});const S=[{path:"",component:(()=>{class o{constructor(o,i,n,t,e,a,r,s,l,m,d,c,f){this.platform=o,this.navCtrl=i,this.menu=n,this.zone=t,this.loadingCtrl=e,this.actionSheetCtrl=a,this.http=r,this.events=s,this.ionLoader=l,this.ionAlert=m,this.database=d,this.atom=c,this.formBuilder=f,this.btn_isclicked=!1,this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.hideForm="Y",this.information_form={action:"fetch_information_form",payload:"",workshop_id:"",workshop_session:"",form_id:""},this.update_information_form={action:"update_information_form",payload:"",workshop_id:"",workshop_session:"",form_header:"",form_details:"",form_values:""},this.workshop_no_otc_form={action:"workshop_without_otc",payload:"",workshop_id:"",workshop_session:""},this.internet_indicator=!1,this.menu.enable(!0),this.hideForm="Y",this.workshopParam=this.atom.navigation_param_get(),this.information_form.workshop_id=this.workshopParam.id,this.information_form.workshop_session=this.workshopParam.workshop_session,this.information_form.form_id=this.workshopParam.information_form_id,this.update_information_form.workshop_id=this.workshopParam.id,this.update_information_form.workshop_session=this.workshopParam.workshop_session,this.workshop_no_otc_form.workshop_id=this.workshopParam.id,this.workshop_no_otc_form.workshop_session=this.workshopParam.workshop_session,this.initializeApp()}ngOnInit(){}initializeApp(){this.platform.ready().then(o=>{window.addEventListener("online",()=>{this.internetStatus=T.Online,this.zone.run(()=>{this.internet_background="int-green",this.internet_text="YOU ARE ONLINE"}),this.internet_timer=setTimeout(()=>{this.zone.run(()=>{this.internet_indicator=!1})},1e4)}),window.addEventListener("offline",()=>{this.internetStatus=T.Offline,this.zone.run(()=>{this.internet_background="int-red",this.internet_text="YOU ARE OFFLINE",this.internet_indicator=!0})}),this.platform.ready().then(o=>{this.database.storage_get("device").then(o=>{o.token_no&&o.payload&&(this.json_profile=o,this.information_form.payload=o.payload,this.update_information_form.payload=o.payload,this.workshop_no_otc_form.payload=o.payload,this.fetch_information_form())}).catch(o=>{})})})}ionViewDidLoad(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline"),clearTimeout(this.internet_timer)}catch(o){}}trackForm(o,i){}fetch_information_form(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.atom.http_post(this.information_form).subscribe(o=>Object(s.a)(this,void 0,void 0,(function*(){if(1==o.success){this.update_information_form.form_header=o.form_header,this.update_information_form.form_details=o.form_details,this.otp_verified=o.otp_verified;let i=this.update_information_form.form_details;const n=yield new e.d({});if(i.length>0)for(let o=0;o<i.length;o++){if("text"==i[o].field_type)if("1"==i[o].is_required){const t=yield new e.b(i[o].field_name,e.q.compose([e.q.required,e.q.pattern("[a-zA-Z]*")]));n.addControl(i[o].field_name,t)}else{const t=yield new e.b(i[o].field_name,e.q.compose([e.q.pattern("[a-zA-Z]*")]));n.addControl(i[o].field_name,t)}else if("alphanumeric"==i[o].field_type)if("1"==i[o].is_required){const t=yield new e.b(i[o].field_name,e.q.compose([e.q.required]));n.addControl(i[o].field_name,t)}else{const t=new e.b(i[o].field_name);n.addControl(i[o].field_name,t)}else if("number"==i[o].field_type)if(1==i[o].mandatory){const t=yield new e.b(i[o].field_name,e.q.compose([e.q.required,e.q.pattern("^[0-9.-]*")]));n.addControl(i[o].field_name,t)}else{const t=yield new e.b(i[o].field_name,e.q.compose([e.q.pattern("^[0-9.-]*")]));n.addControl(i[o].field_name,t)}else if("mobile"==i[o].field_type)if(1==i[o].mandatory){const t=yield new e.b(i[o].field_name,e.q.compose([e.q.required,e.q.pattern("^[0-9]*")]));n.addControl(i[o].field_name,t)}else{const t=yield new e.b(i[o].field_name,e.q.compose([e.q.pattern("^[0-9]*")]));n.addControl(i[o].field_name,t)}else if("email"==i[o].field_type)if("1"==i[o].is_required){const t=yield new e.b(i[o].field_name,e.q.compose([e.q.required,e.q.pattern(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/)]));n.addControl(i[o].field_name,t)}else{const t=yield new e.b(i[o].field_name,e.q.compose([e.q.pattern(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/)]));n.addControl(i[o].field_name,t)}else if("1"==i[o].is_required){const t=yield new e.b(i[o].field_name,e.q.compose([e.q.required]));n.addControl(i[o].field_name,t)}else{const t=yield new e.b(i[o].field_name);n.addControl(i[o].field_name,t)}n.controls[i[o].field_name].setValue("")}this.informationForm=yield n}else this.atom.presentToast(o.message)})),o=>{this.atom.presentToast(o)},()=>{})}))}isFieldValid(o){return!this.informationForm.get(o).valid&&this.informationForm.get(o).touched}displayFieldCss(o){return{"has-error":this.isFieldValid(o),"has-feedback":this.isFieldValid(o)}}validateAllFormFields(o){var i=!0;Object.keys(o.controls).forEach(n=>{const t=o.get(n);if(t instanceof e.b){t.markAsTouched({onlySelf:!0});for(let o=0;o<this.update_information_form.form_details.length;o++)i&&this.update_information_form.form_details[o].field_name==n.toString()&&(t.valid||(i=!1,this.atom.presentToast("Please Check "+this.update_information_form.form_details[o].field_display_name+" Is Not Proper")),1==this.update_information_form.form_details[o].is_required&&""==t.value&&(i=!1,this.atom.presentToast("Please Check "+this.update_information_form.form_details[o].field_display_name+" Is Not Proper.")))}else t instanceof e.d&&this.validateAllFormFields(t)})}submit(){this.informationForm.valid?(this.update_information_form.form_values=this.informationForm.value,this.atom.http_post(this.update_information_form).subscribe(o=>{1==o.success?"N"==this.otp_verified?""!=this.workshopParam.id?this.atom.http_post(this.workshop_no_otc_form).subscribe(o=>{1==o.success?this.atom.navigation_param_set(this.workshopParam).subscribe(o=>{this.navCtrl.navigateRoot("/quiz")},o=>{this.atom.presentToast("Application error, parameter failed to set.")}):this.atom.presentToast(o.message)},o=>{this.atom.presentToast(o)},()=>{}):this.atom.presentToast("Workshop Id Misssing, Please try again"):""!=this.workshopParam.id?this.atom.navigation_param_set(this.workshopParam).subscribe(o=>{this.navCtrl.navigateRoot("/quiz")},o=>{this.atom.presentToast("Application error, parameter failed to set.")}):this.atom.presentToast("Workshop Id Misssing, Please try again"):this.atom.presentToast(o.message)},o=>{this.atom.presentToast(o)},()=>{})):this.validateAllFormFields(this.informationForm)}closeMe(){this.navCtrl.navigateRoot("/dashboard")}}return o.\u0275fac=function(i){return new(i||o)(b.Lb(a.T),b.Lb(a.S),b.Lb(a.Q),b.Lb(b.z),b.Lb(a.P),b.Lb(a.a),b.Lb(p.a),b.Lb(d.a),b.Lb(m.a),b.Lb(l.a),b.Lb(c.a),b.Lb(f.a),b.Lb(e.a))},o.\u0275cmp=b.Fb({type:o,selectors:[["app-information-form"]],decls:10,vars:2,consts:[[1,"ion-no-border","ion-no-shadow"],["slot","start"],["autoHide","false"],["padding",""],[2,"height","150% !important"],["col-12","",4,"ngIf"],["class","ion-no-margin ion-no-padding ion-no-border ion-no-shadow","position","bottom",4,"ngIf"],["col-12",""],["novalidate","",3,"formGroup","ngSubmit"],["lines","none"],["text-center",""],[1,"main-heading"],["style","height:150%","class","ion-no-margin ion-no-padding",4,"ngFor","ngForOf"],["class","ion-padding continue-padding",4,"ngIf"],[1,"ion-no-margin","ion-no-padding",2,"height","150%"],["size","12",1,"ion-no-padding","ion-no-margin"],["lines","none",4,"ngIf"],["position","stacked",1,"label"],["class","mandatory-sign",4,"ngIf"],["type","text","value","","spellcheck","false","autocapitalize","off",1,"form-input",3,"formControlName"],[1,"mandatory-sign"],["type","tel","value","","spellcheck","false","autocapitalize","off",1,"form-input",3,"formControlName"],["type","email","value","","spellcheck","false","autocapitalize","off",1,"form-input",3,"formControlName"],["position","stacked",1,"label","lbl-dt"],["interface","action-sheet",1,"form-input",3,"formControlName"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["displayFormat","DD/MM/YYYY","pickerFormat","YYYY-MM-DD",1,"form-input",3,"formControlName"],["displayFormat","h:mm A","pickerFormat","h:mm A",1,"form-input",3,"formControlName"],[1,"ion-padding","continue-padding"],["size","large","fill","solid","expand","block",1,"submit-button",3,"disabled","click"],["class","center-vertical-horizontal",4,"ngIf"],[1,"center-vertical-horizontal"],[1,"button-spinner"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],[1,"ion-no-margin","ion-no-padding"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(o,i){1&o&&(b.Ob(0,"ion-header",0),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-buttons",1),b.Mb(3,"ion-menu-button",2),b.Nb(),b.Ob(4,"ion-title"),b.mc(5,"Information Form"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-content",3),b.Ob(7,"ion-row",4),b.lc(8,Y,8,3,"ion-col",5),b.Nb(),b.Nb(),b.lc(9,L,5,3,"ion-footer",6)),2&o&&(b.Ab(8),b.bc("ngIf",i.informationForm&&i.update_information_form.form_details.length>0),b.Ab(1),b.bc("ngIf",i.internet_indicator))},directives:[a.q,a.M,a.i,a.y,a.L,a.m,a.B,t.i,a.l,e.r,e.k,e.e,a.w,a.u,t.h,a.v,a.t,a.W,e.j,e.c,a.C,a.V,a.n,a.h,a.F,a.o,a.p],styles:["ion-menu-button[_ngcontent-%COMP%]{--color:var(--ion-color-primary-contrast)!important}.custom-back-button[_ngcontent-%COMP%]{color:#fff;display:inline}.profile-section[_ngcontent-%COMP%]{padding:10px}.continue-padding[_ngcontent-%COMP%]{margin:20px 0 0}.submit-button[_ngcontent-%COMP%]{font-size:1.4rem;text-transform:none;--box-shadow:none;--border-radius:0px;--background:var(--ion-color-primary);--background-focused:var(--ion-color-primary);--background-hover:var(--ion-color-primary);--color:var(--ion-color-primary-contrast)}.form-input[_ngcontent-%COMP%], .submit-button[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:400}.form-input[_ngcontent-%COMP%]{width:100%;height:auto;overflow:hidden;background-color:#f2f4f6;border:none!important;margin:13px 0 0;border-radius:0;-moz-border-radius:0;-o-border-radius:0;-webkit-border-radius:0;font-size:14px;padding:0 5px!important;color:#3e4d55}ion-item[_ngcontent-%COMP%]{padding:0 0 2px;--ion-safe-area-right:0;--background-activated:var(--ion-text-color);--background-focused:var(--ion-text-color);--background-hover:var(--ion-text-color);--highlight-color-focused:none!important}ion-item[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]:hover{--color:var(--ion-color-dark-black)}ion-item[_ngcontent-%COMP%]:hover{--border-color:var(--ion-color-input-background);--highlight-color-focused:var(--ion-color-input-background);--background-focused:var(--ion-color-input-background);--background-hover:var(--ion-color-input-background)}ion-label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif!important;font-size:16px!important;font-weight:400!important;line-height:35px!important;--color:var(--ion-color-dark-black)!important}.item-has-focus[_ngcontent-%COMP%]   .label-stacked[_ngcontent-%COMP%]{color:var(--ion-color-dark-black)!important}.avatar-container[_ngcontent-%COMP%]{display:flex;padding-top:13px;text-align:center;border:none!important;height:125px}.avatar-img[_ngcontent-%COMP%], ion-avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}ion-avatar[_ngcontent-%COMP%]{background-color:#f2f4f6}#file_input_avatar[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;width:100%;height:125px;left:0;z-index:999}.mandatory-sign[_ngcontent-%COMP%]{color:#dd2121}.main-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;color:#ff7739}.main-heading[_ngcontent-%COMP%], .sub-heading[_ngcontent-%COMP%]{text-align:left;text-justify:auto}.sub-heading[_ngcontent-%COMP%]{font-size:1.3rem;color:#232323;margin-top:1rem}.item[_ngcontent-%COMP%]{border-style:none}"]}),o})()}];let $=(()=>{class o{}return o.\u0275mod=b.Jb({type:o}),o.\u0275inj=b.Ib({factory:function(i){return new(i||o)},imports:[[r.i.forChild(S)],r.i]}),o})(),j=(()=>{class o{}return o.\u0275mod=b.Jb({type:o}),o.\u0275inj=b.Ib({factory:function(i){return new(i||o)},imports:[[t.b,e.f,e.o,a.N,$]]}),o})()}}]);