function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,o){return t&&_defineProperties(n.prototype,t),o&&_defineProperties(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{kNxp:function(n,t,o){"use strict";o.r(t),o.d(t,"GraphTopicSubtopicIPageModule",(function(){return x}));var e=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),a=o("tyNb"),s=o("fXoL"),c=o("1vjY"),p=o("X7yx"),l=o("5dVO"),b=o("riPR"),d=o("ZJFI"),h=["reportContainer"];function u(n,t){1&n&&(s.Ob(0,"ion-row",12),s.Ob(1,"ion-col",13),s.mc(2," Overall Accuracy "),s.Nb(),s.Ob(3,"ion-col",14),s.mc(4," Rank "),s.Nb(),s.Nb())}function f(n,t){if(1&n&&(s.Ob(0,"ion-row",15),s.Ob(1,"ion-col",16),s.mc(2),s.Nb(),s.Ob(3,"ion-col",17),s.mc(4),s.Nb(),s.Nb()),2&n){var o=s.Yb();s.Ab(2),s.oc(" ",o.overallScoreBoard.accuracy," "),s.Ab(2),s.oc(" ",o.overallScoreBoard.rank," ")}}function _(n,t){if(1&n&&(s.Ob(0,"ion-row",18),s.Ob(1,"ion-col",19),s.mc(2),s.Nb(),s.Nb()),2&n){var o=s.Yb();s.Ab(1),s.Cb(o.internet_background),s.Ab(1),s.oc(" ",o.internet_text," ")}}var m,g,w,v=o("6n/F"),y=function(n){return n[n.Online=0]="Online",n[n.Offline=1]="Offline",n}({}),k=[{path:"",component:(m=function(){function n(t,o,e,i,r,a,s,c,p,l,b){_classCallCheck(this,n),this.platform=t,this.menu=o,this.navCtrl=e,this.modalCtrl=i,this.zone=r,this.renderer=a,this.events=s,this.ionLoader=c,this.ionAlert=p,this.database=l,this.atom=b,this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.graph_topic_subtopic_form={action:"graph_user_topic_subtopic_accuracy",payload:"",workshop_id:"",workshop_session:"",graph_type:""},this.fullname="",this.overallScoreBoard={accuracy:"",rank:""},this.internet_indicator=!1,this.menu.enable(!0),this.hideForm=!1,this.hideScoreBoard=!1,this.initializeApp()}return _createClass(n,[{key:"ngOnInit",value:function(){this.json_navparam=this.atom.navigation_param_get(),this.json_workshop_details=this.json_navparam.workshop_details,this.str_graph_type=this.json_navparam.graph_type,this.graph_topic_subtopic_form.graph_type=this.str_graph_type,this.graph_topic_subtopic_form.workshop_id=this.json_workshop_details.id,this.graph_topic_subtopic_form.workshop_session=this.json_workshop_details.workshop_session}},{key:"initializeApp",value:function(){var n=this;this.platform.ready().then((function(t){window.addEventListener("online",(function(){n.internetStatus=y.Online,n.zone.run((function(){n.internet_background="int-green",n.internet_text="YOU ARE ONLINE"})),n.internet_timer=setTimeout((function(){n.zone.run((function(){n.internet_indicator=!1}))}),1e4)})),window.addEventListener("offline",(function(){n.internetStatus=y.Offline,n.zone.run((function(){n.internet_background="int-red",n.internet_text="YOU ARE OFFLINE",n.internet_indicator=!0}))})),n.database.storage_get("device").then((function(t){t.token_no&&t.payload&&(n.json_profile=t,n.graph_topic_subtopic_form.payload=t.payload,n.refresh_graph())})).catch((function(n){}))}))}},{key:"ionViewDidLoad",value:function(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline"),clearTimeout(this.internet_timer)}catch(n){}}},{key:"refresh_graph",value:function(){var n=this;""==this.graph_topic_subtopic_form.payload||""==this.graph_topic_subtopic_form.workshop_id||""==this.graph_topic_subtopic_form.workshop_session?this.atom.presentToast("Invalid Token"):this.atom.http_post(this.graph_topic_subtopic_form).subscribe((function(t){if(1==t.success){n.renderer.setStyle(n.canvas.nativeElement,"display","block !important");var o=JSON.parse(t.dataset);n.overallScoreBoard.accuracy=t.wksh_accuracy,n.overallScoreBoard.rank=t.wksh_rank,v.chart(n.canvas.nativeElement,{chart:{type:"bar"},title:{text:" Workshop : "+n.json_workshop_details.workshop_name+"<br/> (Topic + Subtopic wise)",style:{fontSize:"12px",fontFamily:"Arial",fontWeight:"bold"}},subtitle:{text:""},xAxis:{categories:JSON.parse(t.categories),title:{text:"Topic+Subtopic wise"}},yAxis:{title:{text:"Overall Accuracy",align:"middle"},labels:{formatter:function(){return this.value+"%"},overflow:"justify"},max:100},tooltip:{valueSuffix:"%"},legend:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!0,format:"{point.y:.2f}%"}}},credits:{enabled:!1},series:[{name:"Accuracy",data:o,pointWidth:28,color:"#47cfad",dataLabels:{style:{fontWeight:"normal",textOutline:"0",color:"black",fontSize:"12px"}}}]}),n.hideScoreBoard=!0}else"NO_RESULT"==t.message||n.atom.presentToast(t.message)}),(function(n){}),(function(){}))}}]),n}(),m.\u0275fac=function(n){return new(n||m)(s.Lb(r.T),s.Lb(r.Q),s.Lb(r.S),s.Lb(r.R),s.Lb(s.z),s.Lb(s.D),s.Lb(b.a),s.Lb(l.a),s.Lb(p.a),s.Lb(d.a),s.Lb(c.a))},m.\u0275cmp=s.Fb({type:m,selectors:[["app-graph-topic-subtopic-i"]],viewQuery:function(n,t){var o;1&n&&s.qc(h,!0,s.l),2&n&&s.ec(o=s.Xb())&&(t.canvas=o.first)},decls:16,vars:3,consts:[[1,"ion-no-border","ion-no-shadow"],["slot","start"],["autoHide","false"],["slot","end",3,"click"],["slot","icon-only","name","settings",1,"fa","fa-refresh","lnr-font-size"],["id","reportContainer"],["reportContainer",""],["size","12","class","no-padmar score-main-wrapper",4,"ngIf"],["size","12","class","no-padmar value-main-wrapper",4,"ngIf"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],[1,"ion-no-margin","ion-no-padding"],["class","ion-no-margin ion-no-padding","internet-container","",4,"ngIf"],["size","12",1,"no-padmar","score-main-wrapper"],["size","6",1,"ion-text-center","score-title","right-border"],["size","6",1,"ion-text-center","score-title"],["size","12",1,"no-padmar","value-main-wrapper"],["size","6",1,"ion-text-center","score-value","right-border"],["size","6",1,"ion-text-center","score-value"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(n,t){1&n&&(s.Ob(0,"ion-header",0),s.Ob(1,"ion-toolbar"),s.Ob(2,"ion-buttons",1),s.Mb(3,"ion-menu-button",2),s.Nb(),s.Ob(4,"ion-buttons",3),s.Wb("click",(function(){return t.refresh_graph()})),s.Mb(5,"ion-icon",4),s.Nb(),s.Ob(6,"ion-title"),s.mc(7,"Topic + Sub Topic Wise Statistics"),s.Nb(),s.Nb(),s.Nb(),s.Ob(8,"ion-content"),s.Mb(9,"div",5,6),s.lc(11,u,5,0,"ion-row",7),s.lc(12,f,5,2,"ion-row",8),s.Nb(),s.Ob(13,"ion-footer",9),s.Ob(14,"ion-grid",10),s.lc(15,_,3,3,"ion-row",11),s.Nb(),s.Nb()),2&n&&(s.Ab(11),s.bc("ngIf",1==t.hideScoreBoard),s.Ab(1),s.bc("ngIf",1==t.hideScoreBoard),s.Ab(3),s.bc("ngIf",t.internet_indicator))},directives:[r.q,r.M,r.i,r.y,r.r,r.L,r.m,e.i,r.o,r.p,r.B,r.l],styles:["ion-menu-button[_ngcontent-%COMP%]{--color:var(--ion-color-primary-contrast)!important}.custom-back-button[_ngcontent-%COMP%]{color:#fff;display:inline}.lnr-font-size[_ngcontent-%COMP%]{font-size:1.5em;color:#232323;margin-right:5px!important}.chart-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.score-title[_ngcontent-%COMP%]{font-size:1em;font-weight:700;height:35px;padding:10px}.score-value[_ngcontent-%COMP%]{font-size:2em;font-weight:700;height:55px;padding:15px}.right-border[_ngcontent-%COMP%]{border-right:1px solid #dbdbdd}.score-main-wrapper[_ngcontent-%COMP%]{background-color:#fcfcfe;border-top:1px solid #dbdbdd}.score-main-wrapper[_ngcontent-%COMP%], .value-main-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid #dbdbdb;height:auto;overflow:hidden}.value-main-wrapper[_ngcontent-%COMP%]{background-color:#fff}"]}),m)}],O=((w=function n(){_classCallCheck(this,n)}).\u0275mod=s.Jb({type:w}),w.\u0275inj=s.Ib({factory:function(n){return new(n||w)},imports:[[a.i.forChild(k)],a.i]}),w),x=((g=function n(){_classCallCheck(this,n)}).\u0275mod=s.Jb({type:g}),g.\u0275inj=s.Ib({factory:function(n){return new(n||g)},imports:[[e.b,i.f,r.N,O]]}),g)}}]);