(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{X57y:function(t,i,n){"use strict";n.r(i),n.d(i,"AssessmentDiagnosticsPageModule",(function(){return f}));var o=n("ofXK"),e=n("3Pt+"),s=n("TEn/"),a=n("tyNb"),r=n("mrSG"),c=n("X7yx"),d=n("5dVO"),h=n("riPR"),g=n("ZJFI"),l=n("1vjY"),b=n("fXoL");function m(t,i){if(1&t&&(b.Ob(0,"ion-row",22),b.Ob(1,"ion-col",23),b.mc(2),b.Nb(),b.Nb()),2&t){const t=b.Yb();b.Ab(1),b.Cb(t.internet_background),b.Ab(1),b.oc(" ",t.internet_text," ")}}var u=function(t){return t[t.Online=0]="Online",t[t.Offline=1]="Offline",t}({});const p=[{path:"",component:(()=>{class t{constructor(t,i,n,o,e,s,a,r,c,d,h){this.platform=t,this.alertController=i,this.menu=n,this.navCtrl=o,this.modalCtrl=e,this.zone=s,this.events=a,this.ionLoader=r,this.ionAlert=c,this.database=d,this.atom=h,this.internet_indicator=!1,this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.json_diagnostics={camera_status:"Wait",audio_status:"Wait"},this.showDiagnostics=!1,this.button_text="Please Wait",this.camera_status_class="heading-status-wait",this.audio_status_class="heading-status-wait",this.button_class="custom-button-disabled",this.menu.enable(!1),this.assessmentParam=this.atom.navigation_param_get(),this.assessment_data=this.assessmentParam.assessment_detail,this.vimeo_credentials=this.assessmentParam.vimeo_credentials,this.initializeApp()}ngOnInit(){}initializeApp(){this.platform.ready().then(t=>{window.addEventListener("online",()=>{this.internetStatus=u.Online,this.zone.run(()=>{this.internet_background="int-green",this.internet_text="YOU ARE ONLINE"}),this.internet_timer=setTimeout(()=>{this.zone.run(()=>{this.internet_indicator=!1})},1e4)}),window.addEventListener("offline",()=>{this.internetStatus=u.Offline,this.zone.run(()=>{this.internet_background="int-red",this.internet_text="YOU ARE OFFLINE",this.internet_indicator=!0})}),this.database.storage_get("device").then(t=>{t.token_no&&t.payload&&(this.json_profile=t)}).catch(t=>{}),this.hardware_diagnostics()})}ionViewDidLoad(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline"),clearTimeout(this.internet_timer)}catch(t){}}hardware_diagnostics(){return Object(r.a)(this,void 0,void 0,(function*(){this.camera_status_class="heading-status-testing",this.json_diagnostics.camera_status="Testing",this.audio_status_class="heading-status-testing",this.json_diagnostics.audio_status="Testing";let t=!1,i=!1;this.audio_status_class="heading-status-testing",this.json_diagnostics.audio_status="Found",this.audio_constraints={video:!1,audio:!0};try{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;const i=i=>{window.stream=i,i.getAudioTracks().forEach(t=>Object(r.a)(this,void 0,void 0,(function*(){return yield t.stop()}))),i.getVideoTracks().forEach(t=>Object(r.a)(this,void 0,void 0,(function*(){return yield t.stop()}))),t=!0},n=i=>{t=!1};yield navigator.mediaDevices.getUserMedia(this.audio_constraints).then(i).catch(n)}catch(n){t=!1,this.audio_status_class="heading-status-testing",this.json_diagnostics.audio_status="Not Found"}this.camera_status_class="heading-status-testing",this.json_diagnostics.camera_status="Found",this.video_constraints={video:!0,audio:!1};try{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;const t=t=>{window.stream=t,t.getAudioTracks().forEach(t=>Object(r.a)(this,void 0,void 0,(function*(){return yield t.stop()}))),t.getVideoTracks().forEach(t=>Object(r.a)(this,void 0,void 0,(function*(){return yield t.stop()}))),i=!0},n=t=>{i=!1};yield navigator.mediaDevices.getUserMedia(this.video_constraints).then(t).catch(n)}catch(n){i=!1,this.camera_status_class="heading-status-testing",this.json_diagnostics.camera_status="Not Found"}t?(this.audio_status_class="heading-status-ok",this.json_diagnostics.audio_status="Ok"):(this.audio_status_class="heading-status-failed",this.json_diagnostics.audio_status="Failed"),i?(this.camera_status_class="heading-status-ok",this.json_diagnostics.camera_status="Ok"):(this.camera_status_class="heading-status-failed",this.json_diagnostics.camera_status="Failed"),t&&i?this.close():this.showDiagnostics=!0}))}close(){"Ok"==this.json_diagnostics.camera_status&&"Ok"==this.json_diagnostics.audio_status&&this.atom.navigation_param_set({assessment_detail:this.assessment_data,vimeo_credentials:this.vimeo_credentials}).subscribe(t=>{this.navCtrl.navigateRoot("/assessment-quiz")},t=>{this.atom.presentToast("Application error, parameter failed to set.")})}}return t.\u0275fac=function(i){return new(i||t)(b.Lb(s.T),b.Lb(s.b),b.Lb(s.Q),b.Lb(s.S),b.Lb(s.R),b.Lb(b.z),b.Lb(h.a),b.Lb(d.a),b.Lb(c.a),b.Lb(g.a),b.Lb(l.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-assessment-diagnostics"]],decls:65,vars:17,consts:[[1,"ion-no-border","ion-no-shadow",3,"hidden"],["slot","end",3,"click"],["slot","icon-only",1,"fa","fa-refresh","lnr-font-size"],[1,"ion-no-margin","ion-no-padding"],[1,"please-container",3,"hidden"],["size","12","size-sx","12","size-sm","12","size-md","12","size-lg","12","size-xl","12",1,"ion-no-margin","ion-no-padding",3,"hidden"],["size","12","size-sx","12","size-sm","12","size-md","12","size-lg","12","size-xl","12",1,"ion-no-margin","ion-no-padding"],[1,"sub-title"],[1,"ion-no-margin","ion-no-padding",3,"hidden"],["lines","none",1,"ion-no-margin","ion-no-padding","shadow-box"],["col-8","","col-sm-8","","col-md-8","","col-lg-8","","col-xl-8","",1,"ion-no-margin","ion-no-padding"],[1,"heading"],["size","2","size-sx","2","size-sm","2","size-md","2","size-lg","2","size-xl","2",1,"ion-no-margin","ion-no-padding","col-paddings"],[1,"help-container",3,"hidden"],[1,"help-heading"],[1,"unblock-img-container"],["alt","","src","assets/images/unblock.png",1,"unblock-img"],[1,"help-legends"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],["class","ion-no-margin ion-no-padding","internet-container","",4,"ngIf"],["col-12","",1,"ion-no-margin","ion-no-padding"],["size","large","fill","solid","expand","block",3,"click"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(t,i){1&t&&(b.Ob(0,"ion-header",0),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-buttons",1),b.Wb("click",(function(){return i.hardware_diagnostics()})),b.Mb(3,"ion-icon",2),b.Nb(),b.Ob(4,"ion-title"),b.mc(5,"Hardware Diagnostics"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-content",3),b.Ob(7,"div",4),b.mc(8," Please wait camera/microphone checking... "),b.Nb(),b.Ob(9,"ion-row",5),b.Ob(10,"ion-col",6),b.Ob(11,"p",7),b.mc(12,"Please wait, Application is testing camera/audio..."),b.Nb(),b.Nb(),b.Nb(),b.Ob(13,"ion-list",8),b.Ob(14,"ion-card",9),b.Ob(15,"ion-row",6),b.Ob(16,"ion-col",10),b.Ob(17,"ion-row",3),b.Ob(18,"p",11),b.mc(19,"Camera"),b.Nb(),b.Nb(),b.Nb(),b.Ob(20,"ion-col",12),b.Ob(21,"ion-row",3),b.Ob(22,"p"),b.mc(23),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(24,"ion-card",9),b.Ob(25,"ion-row",6),b.Ob(26,"ion-col",10),b.Ob(27,"ion-row",3),b.Ob(28,"p",11),b.mc(29,"Audio"),b.Nb(),b.Nb(),b.Nb(),b.Ob(30,"ion-col",12),b.Ob(31,"ion-row",3),b.Ob(32,"p"),b.mc(33),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(34,"div",13),b.Ob(35,"p",14),b.mc(36,"How to Enable the Microphone and Camera in Google Chrome:"),b.Nb(),b.Ob(37,"div",15),b.Mb(38,"ion-img",16),b.Nb(),b.Ob(39,"p",17),b.mc(40,"1. To change your browser settings, go to the address bar and click on the lock icon to the left of the website address. This lock icon indicates that information is transferred using a secure server connection."),b.Nb(),b.Ob(41,"p",17),b.mc(42,"2. Camera: Click on the dialog box and choose Allow or Ask"),b.Nb(),b.Ob(43,"p",17),b.mc(44,"3. Microphone: Click on the dialog box and choose Allow or Ask"),b.Nb(),b.Ob(45,"p",17),b.mc(46,"4. When finished, click the X in the upper right corner to close the dialog box."),b.Nb(),b.Nb(),b.Ob(47,"div",13),b.Ob(48,"p",14),b.mc(49,"How to Enable the Microphone and Camera Privacy Settings in Windows:"),b.Nb(),b.Ob(50,"p",17),b.mc(51,"1. Open Settings."),b.Nb(),b.Ob(52,"p",17),b.mc(53,"2. Camera: Search for Camera Privacy Settings and Turn on the camera access for this device and also turn on the app to access your camera."),b.Nb(),b.Ob(54,"p",17),b.mc(55,"3. Microphone: Search for Microphone Privacy Settings and Turn on the microphone access for this device and also turn on the app to access your microphone."),b.Nb(),b.Ob(56,"p",17),b.mc(57,"4. Once both settings turn on switch to awarathon and click on refresh button on top right cornor."),b.Nb(),b.Nb(),b.Nb(),b.Ob(58,"ion-footer",18),b.Ob(59,"ion-grid",3),b.lc(60,m,3,3,"ion-row",19),b.Nb(),b.Ob(61,"ion-row",8),b.Ob(62,"ion-col",20),b.Ob(63,"ion-button",21),b.Wb("click",(function(){return i.close()})),b.mc(64),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.bc("hidden",!i.showDiagnostics),b.Ab(7),b.bc("hidden",i.showDiagnostics),b.Ab(2),b.bc("hidden",!i.showDiagnostics),b.Ab(4),b.bc("hidden",!i.showDiagnostics),b.Ab(9),b.Cb(i.camera_status_class),b.Ab(1),b.nc(i.json_diagnostics.camera_status),b.Ab(9),b.Cb(i.audio_status_class),b.Ab(1),b.nc(i.json_diagnostics.audio_status),b.Ab(1),b.bc("hidden",!i.showDiagnostics),b.Ab(13),b.bc("hidden",!i.showDiagnostics),b.Ab(13),b.bc("ngIf",i.internet_indicator),b.Ab(1),b.bc("hidden",!i.showDiagnostics),b.Ab(2),b.Cb(i.button_class),b.Ab(1),b.oc(" ",i.button_text," "))},directives:[s.q,s.M,s.i,s.r,s.L,s.m,s.B,s.l,s.w,s.j,s.s,s.o,s.p,o.i,s.h],styles:[".lnr-font-size[_ngcontent-%COMP%]{font-size:1.8rem!important;margin-right:15px!important;line-height:1!important;color:#000!important}ion-card[_ngcontent-%COMP%]{box-shadow:none!important;width:100%}.custom-button-disabled[_ngcontent-%COMP%]{--background:var(--ion-color-medium);--background-focused:var(--ion-color-medium);--background-hover:var(--ion-color-medium)}.custom-button[_ngcontent-%COMP%], .custom-button-disabled[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.4rem;font-weight:400;text-transform:none;--box-shadow:none;--border-radius:0px;--color:var(--ion-color-primary-contrast);margin:0}.custom-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--background-focused:var(--ion-color-primary);--background-hover:var(--ion-color-primary)}.sub-title[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1.6rem;color:#f53d3d;text-align:center;font-weight:700;margin:0 auto!important;white-space:normal;height:50px;padding:15px}.heading[_ngcontent-%COMP%]{font-weight:500}.heading[_ngcontent-%COMP%], .heading-status-wait[_ngcontent-%COMP%]{width:99%;height:auto!important;min-height:50px;font-size:1.3rem;color:#000;margin:0 5px 0 15px!important;text-align:justify;white-space:normal;letter-spacing:0;padding:15px 0}.heading-status-wait[_ngcontent-%COMP%]{font-weight:600}.heading-status-testing[_ngcontent-%COMP%]{color:#0037ff}.heading-status-ok[_ngcontent-%COMP%], .heading-status-testing[_ngcontent-%COMP%]{width:99%;height:auto!important;min-height:50px;font-size:1.3rem;font-weight:600;margin:0 5px 0 15px!important;text-align:justify;white-space:normal;letter-spacing:0;padding:15px 0}.heading-status-ok[_ngcontent-%COMP%]{color:#18a55d}.heading-status-failed[_ngcontent-%COMP%]{width:99%;height:auto!important;min-height:50px;font-size:1.3rem;font-weight:600;color:#f02;margin:0 5px 0 15px!important;text-align:justify;white-space:normal;letter-spacing:0;padding:15px 0}.shadow-box[_ngcontent-%COMP%]{width:100%!important;background-color:#f7f7f7;height:auto!important;border-bottom:1px solid #fff!important;text-align:center;display:inline-block;align-content:center;vertical-align:top;margin-top:2px!important}.help-container[_ngcontent-%COMP%]{margin:20px 0 0}.help-heading[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;line-height:1.6rem;color:#222428;text-align:left;margin:0 auto!important;white-space:normal;padding:0 10px 5px}.unblock-img[_ngcontent-%COMP%], .unblock-img-container[_ngcontent-%COMP%]{height:300px;width:auto}.help-legends[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400;line-height:1.6rem;color:#222428;text-align:left;margin:0 auto!important;white-space:normal;height:auto;padding:0 10px 5px}.please-container[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600;display:flex;justify-content:center;align-items:center;height:100%;color:#000}"]}),t})()}];let _=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(i){return new(i||t)},imports:[[a.i.forChild(p)],a.i]}),t})(),f=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(i){return new(i||t)},imports:[[o.b,e.f,s.N,_]]}),t})()}}]);