(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{DNuw:function(t,o,i){"use strict";i.r(o),i.d(o,"RegistrationPageModule",(function(){return O}));var e=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),s=i("X7yx"),l=i("5dVO"),c=i("riPR"),d=i("ZJFI"),b=i("1vjY"),m=i("fXoL"),p=i("tk/3");function f(t,o){1&t&&(m.Ob(0,"div",30),m.mc(1," PLEASE WAIT\xa0\xa0"),m.Mb(2,"ion-spinner",31),m.Nb())}function h(t,o){1&t&&(m.Ob(0,"div",30),m.mc(1," REGISTER "),m.Nb())}function g(t,o){if(1&t&&(m.Ob(0,"ion-row",32),m.Ob(1,"ion-col",33),m.mc(2),m.Nb(),m.Nb()),2&t){const t=m.Yb();m.Ab(1),m.Cb(t.internet_background),m.Ab(1),m.oc(" ",t.internet_text," ")}}var u=function(t){return t[t.Online=0]="Online",t[t.Offline=1]="Offline",t}({});const _=[{path:"",component:(()=>{class t{constructor(t,o,i,e,n,r,a,s,l,c,d,b,m){this.platform=t,this.navCtrl=o,this.menu=i,this.modalCtrl=e,this.loadingCtrl=n,this.actionSheetCtrl=r,this.zone=a,this.http=s,this.events=l,this.ionLoader=c,this.ionAlert=d,this.database=b,this.atom=m,this.btn_isclicked=!1,this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.device_details={app_name:"",package_name:"",version_code:"",version_number:"",cordova:"",model:"",platform:"",uuid:"",imei:"",imsi:"",iccid:"",mac:"",version:"",manufacturer:"",is_virtual:!1,serial:"",memory:0,cpumhz:"",totalstorage:"",registered_account:"",user_agent:""},this.registration_form={action:"registration",firstname:"",lastname:"",mobile:"",email:"",password:"",avatar:"",confirmpwd:"",device_info:""},this.avatarThumb="assets/images/camera.png",this.internet_indicator=!1,this.menu.enable(!1),this.initializeApp()}ngOnInit(){}initializeApp(){this.platform.ready().then(t=>{window.addEventListener("online",()=>{this.internetStatus=u.Online,this.zone.run(()=>{this.internet_background="int-green",this.internet_text="YOU ARE ONLINE"}),this.internet_timer=setTimeout(()=>{this.zone.run(()=>{this.internet_indicator=!1})},1e4)}),window.addEventListener("offline",()=>{this.internetStatus=u.Offline,this.zone.run(()=>{this.internet_background="int-red",this.internet_text="YOU ARE OFFLINE",this.internet_indicator=!0})})})}ionViewWillLeave(){1==this.action_sheet_status&&this.action_sheet.dismiss()}ionViewDidLoad(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline"),clearTimeout(this.internet_timer)}catch(t){}}create_file_name(t){return(new Date).getTime()+t.substr(t.lastIndexOf("."))}change_listener(t){this.ionLoader.showLoader().then(()=>{if(t.target.files&&t.target.files[0]){let o=new FileReader;o.onload=t=>{this.avatarThumb=t.target.result},o.readAsDataURL(t.target.files[0])}this.file=t.target.files[0];let o=new FormData,i=this.create_file_name(this.file.name);o.append("image",this.file),o.append("file_name",this.create_file_name(i)),this.registration_form.avatar=i;var e=this.atom.getapi()+"upload_web";this.http.post(e,o,{}).subscribe(t=>{this.ionLoader.hideLoader()},t=>{this.atom.presentToast(t)})}).catch(()=>{})}register(t){!1===this.btn_isclicked&&(""==this.registration_form.firstname?this.atom.presentToast("First Name Is Required"):""==this.registration_form.lastname?this.atom.presentToast("Last Name Is Required"):""==this.registration_form.mobile?this.atom.presentToast("Mobile Is Required"):10!==this.registration_form.mobile.length?this.atom.presentToast("Mobile number required atleast 10 digit"):""==this.registration_form.email?this.atom.presentToast("Email Address Is Required"):""==this.registration_form.password?this.atom.presentToast("Password Is Required"):""==this.registration_form.confirmpwd?this.atom.presentToast("Confirm Password Is Required"):this.registration_form.password!==this.registration_form.confirmpwd?this.atom.presentToast("Password Mismatch"):(this.btn_isclicked=!0,t.valid?this.ionLoader.showLoader().then(()=>{this.atom.http_post(this.registration_form).subscribe(t=>{1==t.success?(this.ionLoader.hideLoader(),this.json_profile.user_id=t.user_id,this.json_profile.company_id=t.company_id,this.json_profile.company_name=t.company_name,this.json_profile.first_name=t.firstname,this.json_profile.last_name=t.lastname,this.json_profile.fullname=t.firstname+" "+t.lastname,this.json_profile.email=t.email,this.json_profile.mobile=t.mobile,this.json_profile.photo=t.avatar,this.json_profile.co_photo=t.co_logo,this.json_profile.otp_pending=t.otp_pending,this.json_profile.otc_pending=t.otc_pending,this.json_profile.co_pending=t.co_pending,this.json_profile.token_no=t.token_no,this.json_profile.payload=t.payload,this.json_profile.webauto_login=t.webauto_login,this.atom.setProfile(this.json_profile),this.events.publish("GLOBAL_VAR",this.json_profile),this.atom.presentToast(t.message),this.btn_isclicked=!1,this.navCtrl.navigateRoot("/verification")):(this.ionLoader.hideLoader(),this.btn_isclicked=!1,this.atom.presentToast(t.message))},t=>{this.ionLoader.hideLoader(),this.btn_isclicked=!1},()=>{this.ionLoader.hideLoader(),this.btn_isclicked=!1})}).catch(()=>{this.btn_isclicked=!1}):(this.btn_isclicked=!1,this.atom.presentToast("Application Error - Form Validate Failed"))))}dismiss(){this.modalCtrl.dismiss({dismissed:!0})}}return t.\u0275fac=function(o){return new(o||t)(m.Lb(r.T),m.Lb(r.S),m.Lb(r.Q),m.Lb(r.R),m.Lb(r.P),m.Lb(r.a),m.Lb(m.z),m.Lb(p.a),m.Lb(c.a),m.Lb(l.a),m.Lb(s.a),m.Lb(d.a),m.Lb(b.a))},t.\u0275cmp=m.Fb({type:t,selectors:[["app-registration"]],decls:52,vars:11,consts:[[1,"ion-no-border","ion-no-shadow"],["slot","start"],["defaultHref","login",1,"custom-back-button"],["padding",""],[1,"profile-section"],["method","post"],["RegistrationForm","ngForm"],[1,"avatar-container"],["type","file","accept","image/*","id","file_input_avatar",2,"opacity","0",3,"change"],["alt","",1,"avatar-img",3,"src"],[1,"ion-no-padding","ion-no-margin"],["position","stacked",1,"label"],["type","text","placeholder","","name","firstname","spellcheck","false","autocomplete","off","autocorrect","off","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["firstname","ngModel"],["type","text","placeholder","","name","lastname","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["lastname","ngModel"],["type","tel","placeholder","","name","mobile","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","minlength","10","maxlength","10","pattern","[0-9]*","required","",1,"form-input",3,"ngModel","ngModelChange"],["mobile","ngModel"],["type","email","placeholder","","name","email","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["email","ngModel"],["type","password","placeholder","","name","password","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["password","ngModel"],["type","password","placeholder","","name","confirmpwd","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","required","",1,"form-input",3,"ngModel","ngModelChange"],["confirmpwd","ngModel"],[1,"ion-no-padding","continue-padding"],["size","large","fill","solid","expand","block",1,"profile-button",3,"disabled","click"],["class","center-vertical-horizontal",4,"ngIf"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],[1,"ion-no-margin","ion-no-padding"],["class","ion-no-margin ion-no-padding","internet-container","",4,"ngIf"],[1,"center-vertical-horizontal"],[1,"button-spinner"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(t,o){if(1&t){const t=m.Pb();m.Ob(0,"ion-header",0),m.Ob(1,"ion-toolbar"),m.Ob(2,"ion-buttons",1),m.Mb(3,"ion-back-button",2),m.Nb(),m.Ob(4,"ion-title"),m.mc(5,"Sign Up"),m.Nb(),m.Nb(),m.Nb(),m.Ob(6,"ion-content",3),m.Ob(7,"div",4),m.Ob(8,"form",5,6),m.Ob(10,"ion-list"),m.Ob(11,"div",7),m.Ob(12,"input",8),m.Wb("change",(function(t){return o.change_listener(t)})),m.Nb(),m.Ob(13,"ion-avatar"),m.Mb(14,"img",9),m.Nb(),m.Nb(),m.Ob(15,"ion-item",10),m.Ob(16,"ion-label",11),m.mc(17,"First Name"),m.Nb(),m.Ob(18,"ion-input",12,13),m.Wb("ngModelChange",(function(t){return o.registration_form.firstname=t})),m.Nb(),m.Nb(),m.Ob(20,"ion-item",10),m.Ob(21,"ion-label",11),m.mc(22,"Last Name"),m.Nb(),m.Ob(23,"ion-input",14,15),m.Wb("ngModelChange",(function(t){return o.registration_form.lastname=t})),m.Nb(),m.Nb(),m.Ob(25,"ion-item",10),m.Ob(26,"ion-label",11),m.mc(27,"Mobile No."),m.Nb(),m.Ob(28,"ion-input",16,17),m.Wb("ngModelChange",(function(t){return o.registration_form.mobile=t})),m.Nb(),m.Nb(),m.Ob(30,"ion-item",10),m.Ob(31,"ion-label",11),m.mc(32,"Email Address"),m.Nb(),m.Ob(33,"ion-input",18,19),m.Wb("ngModelChange",(function(t){return o.registration_form.email=t})),m.Nb(),m.Nb(),m.Ob(35,"ion-item",10),m.Ob(36,"ion-label",11),m.mc(37,"Password"),m.Nb(),m.Ob(38,"ion-input",20,21),m.Wb("ngModelChange",(function(t){return o.registration_form.password=t})),m.Nb(),m.Nb(),m.Ob(40,"ion-item",10),m.Ob(41,"ion-label",11),m.mc(42,"Confirm Password"),m.Nb(),m.Ob(43,"ion-input",22,23),m.Wb("ngModelChange",(function(t){return o.registration_form.confirmpwd=t})),m.Nb(),m.Nb(),m.Nb(),m.Ob(45,"div",24),m.Ob(46,"ion-button",25),m.Wb("click",(function(){m.gc(t);const i=m.fc(9);return o.register(i)})),m.lc(47,f,3,0,"div",26),m.lc(48,h,2,0,"div",26),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(49,"ion-footer",27),m.Ob(50,"ion-grid",28),m.lc(51,g,3,3,"ion-row",29),m.Nb(),m.Nb()}2&t&&(m.Ab(14),m.bc("src",o.avatarThumb,m.ic),m.Ab(4),m.bc("ngModel",o.registration_form.firstname),m.Ab(5),m.bc("ngModel",o.registration_form.lastname),m.Ab(5),m.bc("ngModel",o.registration_form.mobile),m.Ab(5),m.bc("ngModel",o.registration_form.email),m.Ab(5),m.bc("ngModel",o.registration_form.password),m.Ab(5),m.bc("ngModel",o.registration_form.confirmpwd),m.Ab(3),m.bc("disabled",o.btn_isclicked),m.Ab(1),m.bc("ngIf",o.btn_isclicked),m.Ab(1),m.bc("ngIf",!o.btn_isclicked),m.Ab(3),m.bc("ngIf",o.internet_indicator))},directives:[r.q,r.M,r.i,r.e,r.f,r.L,r.m,n.r,n.k,n.l,r.w,r.d,r.u,r.v,r.t,r.W,n.p,n.j,n.m,n.h,n.g,n.n,r.h,e.i,r.o,r.p,r.F,r.B,r.l],styles:[".custom-back-button[_ngcontent-%COMP%]{color:#fff;display:inline}.profile-section[_ngcontent-%COMP%]{padding:10px}.continue-padding[_ngcontent-%COMP%]{margin:20px 0 0}.profile-button[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.4rem;font-weight:400;text-transform:none;--box-shadow:none;--border-radius:0px;--background:var(--ion-color-primary);--background-focused:var(--ion-color-primary);--background-hover:var(--ion-color-primary);--color:var(--ion-color-primary-contrast)}.form-input[_ngcontent-%COMP%]{width:100%;height:auto;overflow:hidden;background-color:#f2f4f6;border:none!important;margin:13px 0 0;border-radius:0;-moz-border-radius:0;-o-border-radius:0;-webkit-border-radius:0;font-size:14px;padding:0 5px!important;color:#3e4d55;font-weight:400}ion-item[_ngcontent-%COMP%]{padding:0 0 2px;--ion-safe-area-right:0;--background-activated:var(--ion-text-color);--background-focused:var(--ion-text-color);--background-hover:var(--ion-text-color);--highlight-color-focused:none!important}ion-item[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]:hover{--color:var(--ion-color-dark-black)}ion-item[_ngcontent-%COMP%]:hover{--border-color:var(--ion-color-input-background);--highlight-color-focused:var(--ion-color-input-background);--background-focused:var(--ion-color-input-background);--background-hover:var(--ion-color-input-background)}ion-label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif!important;font-size:16px!important;font-weight:400!important;line-height:35px!important;--color:var(--ion-color-dark-black)!important}.item-has-focus[_ngcontent-%COMP%]   .label-stacked[_ngcontent-%COMP%]{color:var(--ion-color-dark-black)!important}.avatar-container[_ngcontent-%COMP%]{display:flex;padding-top:13px;text-align:center;border:none!important;height:125px}.avatar-img[_ngcontent-%COMP%], ion-avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}ion-avatar[_ngcontent-%COMP%]{background-color:#f2f4f6}#file_input_avatar[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;width:100%;height:125px;left:0;z-index:999}.center-vertical-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button-spinner[_ngcontent-%COMP%]{display:flex}"]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=m.Jb({type:t}),t.\u0275inj=m.Ib({factory:function(o){return new(o||t)},imports:[[a.i.forChild(_)],a.i]}),t})(),O=(()=>{class t{}return t.\u0275mod=m.Jb({type:t}),t.\u0275inj=m.Ib({factory:function(o){return new(o||t)},imports:[[e.b,n.f,r.N,v]]}),t})()}}]);