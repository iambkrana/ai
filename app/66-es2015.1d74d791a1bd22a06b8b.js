(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"Kw+X":function(n,o,t){"use strict";t.r(o),t.d(o,"VerificationPageModule",(function(){return u}));var i=t("ofXK"),e=t("3Pt+"),r=t("TEn/"),a=t("tyNb"),c=t("1vjY"),s=t("X7yx"),d=t("5dVO"),b=t("riPR"),l=t("ZJFI"),h=t("fXoL");function p(n,o){if(1&n&&(h.Ob(0,"ion-row",18),h.Ob(1,"ion-col",19),h.mc(2),h.Nb(),h.Nb()),2&n){const n=h.Yb();h.Ab(1),h.Cb(n.internet_background),h.Ab(1),h.oc(" ",n.internet_text," ")}}var g=function(n){return n[n.Online=0]="Online",n[n.Offline=1]="Offline",n}({});const m=[{path:"",component:(()=>{class n{constructor(n,o,t,i,e,r,a,c,s){this.platform=n,this.menu=o,this.navCtrl=t,this.zone=i,this.events=e,this.ionLoader=r,this.ionAlert=a,this.database=c,this.atom=s,this.btn_isclicked=!1,this.device_details={app_name:"Awarathon",package_name:"com.awarathon.awarathon",version_code:"1",version_number:"1.0",cordova:"",model:"",platform:"Web",uuid:"",imei:"",imsi:"",iccid:"",mac:"",version:"",manufacturer:"",is_virtual:1,serial:"",memory:0,cpumhz:"",totalstorage:"",registered_account:"",user_agent:"",ip_address:"",latitude:"",longitude:"",browser_agent:"",time_open:"",organisation:""},this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.otp_form={action:"company_otp_verification",otp:"",payload:""},this.internet_indicator=!1,this.menu.enable(!1),this.initializeApp()}ngOnInit(){}initializeApp(){this.platform.ready().then(n=>{window.addEventListener("online",()=>{this.internetStatus=g.Online,this.zone.run(()=>{this.internet_background="int-green",this.internet_text="YOU ARE ONLINE"}),this.internet_timer=setTimeout(()=>{this.zone.run(()=>{this.internet_indicator=!1})},1e4)}),window.addEventListener("offline",()=>{this.internetStatus=g.Offline,this.zone.run(()=>{this.internet_background="int-red",this.internet_text="YOU ARE OFFLINE",this.internet_indicator=!0})}),this.database.storage_get("device").then(n=>{n.token_no&&n.payload&&(this.json_profile=n,this.otp_form.payload=n.payload)}).catch(n=>{})})}ionViewDidLoad(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline"),clearTimeout(this.internet_timer)}catch(n){}}confirmation(n){!1===this.btn_isclicked&&(""==this.otp_form.otp?this.atom.presentToast("Company OTC Is Required"):(this.btn_isclicked=!0,n.valid?this.ionLoader.showLoader().then(()=>{this.atom.http_post(this.otp_form).subscribe(n=>{1==n.success?(this.json_profile.company_id=n.company_id,this.json_profile.company_name=n.company_name,this.json_profile.otc_pending="0",this.json_profile.co_pending="1",""!=this.json_profile.company_id?""!==this.json_profile.token_no?(this.database.storage_set("device",this.json_profile).then(n=>{this.database.storage_get("device").then(n=>{n.token_no&&n.payload&&this.atom.setProfile(this.json_profile)}).catch(n=>{})}).catch(n=>{}),this.ionLoader.hideLoader(),this.btn_isclicked=!1,this.atom.presentToast(n.message),this.navCtrl.navigateRoot("/confirmation")):(this.ionLoader.hideLoader(),this.btn_isclicked=!1,this.atom.presentToast("Invalid Token.")):(this.ionLoader.hideLoader(),this.btn_isclicked=!1,this.atom.presentToast("Invalid Company Code (OTC)."))):(this.ionLoader.hideLoader(),this.btn_isclicked=!1,this.atom.presentToast(n.message))},n=>{this.ionLoader.hideLoader(),this.btn_isclicked=!1},()=>{this.ionLoader.hideLoader(),this.btn_isclicked=!1})}).catch(()=>{this.btn_isclicked=!1}):(this.btn_isclicked=!1,this.atom.presentToast("Application Error."))))}}return n.\u0275fac=function(o){return new(o||n)(h.Lb(r.T),h.Lb(r.Q),h.Lb(r.S),h.Lb(h.z),h.Lb(b.a),h.Lb(d.a),h.Lb(s.a),h.Lb(l.a),h.Lb(c.a))},n.\u0275cmp=h.Fb({type:n,selectors:[["app-verification"]],decls:42,vars:3,consts:[[1,"ion-no-border","ion-no-shadow"],["slot","start"],["padding",""],[1,"verification-section"],["VerificationForm","ngForm"],["size","12"],[1,"heading"],[1,"main-heading"],["text-wrap","",1,"sub-heading"],["text-wrap","",1,"opt-heading"],["size","12",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding"],["type","text","placeholder","","name","otp","minlength","0","maxlength","255","value","","spellcheck","false","autocapitalize","off","required","",3,"ngModel","ngModelChange"],["otp","ngModel"],["size","large","fill","solid","expand","block",1,"confirm-button","ion-no-margin",3,"click"],[1,"footer-text","ion-text-center"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],["class","ion-no-margin ion-no-padding","internet-container","",4,"ngIf"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(n,o){if(1&n){const n=h.Pb();h.Ob(0,"ion-header",0),h.Ob(1,"ion-toolbar"),h.Ob(2,"ion-buttons",1),h.Mb(3,"ion-back-button"),h.Nb(),h.Ob(4,"ion-title"),h.mc(5,"Verification"),h.Nb(),h.Nb(),h.Nb(),h.Ob(6,"ion-content",2),h.Ob(7,"div",3),h.Ob(8,"form",null,4),h.Ob(10,"ion-grid"),h.Ob(11,"ion-row"),h.Ob(12,"ion-col",5),h.Ob(13,"ion-row"),h.Ob(14,"ion-col",5),h.Ob(15,"p",6),h.mc(16,"Hello"),h.Nb(),h.Ob(17,"p",7),h.mc(18),h.Nb(),h.Ob(19,"p",8),h.mc(20,"You are one step away from completing your registration on Awarathon app."),h.Nb(),h.Ob(21,"p",9),h.mc(22,"Please enter your "),h.Ob(23,"b"),h.mc(24,"VERIFICATION CODE"),h.Nb(),h.mc(25," provided by your company."),h.Nb(),h.Nb(),h.Nb(),h.Ob(26,"ion-row"),h.Ob(27,"ion-col",10),h.Ob(28,"ion-row"),h.Ob(29,"ion-col",10),h.Ob(30,"ion-item",11),h.Ob(31,"ion-input",12,13),h.Wb("ngModelChange",(function(n){return o.otp_form.otp=n})),h.Nb(),h.Nb(),h.Ob(33,"ion-button",14),h.Wb("click",(function(){h.gc(n);const t=h.fc(9);return o.confirmation(t)})),h.mc(34,"CONFIRM CODE"),h.Nb(),h.Ob(35,"p",15),h.mc(36,"Request verification code to "),h.Ob(37,"b"),h.mc(38,"info@awarathon.com"),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Ob(39,"ion-footer",16),h.Ob(40,"ion-grid",11),h.lc(41,p,3,3,"ion-row",17),h.Nb(),h.Nb()}2&n&&(h.Ab(18),h.nc(o.json_profile.fullname),h.Ab(13),h.bc("ngModel",o.otp_form.otp),h.Ab(10),h.bc("ngIf",o.internet_indicator))},directives:[r.q,r.M,r.i,r.e,r.f,r.L,r.m,e.r,e.k,e.l,r.p,r.B,r.l,r.u,r.t,r.W,e.h,e.g,e.p,e.j,e.m,r.h,r.o,i.i],styles:[".verification-section[_ngcontent-%COMP%]{padding:10px}.continue-padding[_ngcontent-%COMP%]{margin:20px 0 0}ion-item[_ngcontent-%COMP%]{--background:var(--ion-color-input-background);--background-activated:var(--ion-color-input-background);--border-radius:2px;--color:var(--ion-color-href-black);--highlight-color-valid:var(--ion-color-success);--highlight-color-invalid:var(--ion-color-danger);--min-height:40px}ion-item[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]:hover{--highlight-color-focused:var(--ion-color-input-background);--background-focused:var(--ion-color-input-background);--background-hover:var(--ion-color-input-background);--border-color:var(--ion-color-input-background)}.conf-row[_ngcontent-%COMP%]{padding-top:10px}.conf-img[_ngcontent-%COMP%]{-o-object-fit:resize;object-fit:resize;height:auto!important;width:100%;overflow:hidden;margin:0 auto;border:0;padding:0}.confirm-button[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.3rem;font-weight:400;text-transform:none;--box-shadow:none;--border-radius:0px;--background:var(--ion-color-primary);--background-focused:var(--ion-color-primary);--background-hover:var(--ion-color-primary);--color:var(--ion-color-primary-contrast);margin:15px 0 0}.heading[_ngcontent-%COMP%]{font-size:1.7rem;color:var(--ion-color-href-black)}.heading[_ngcontent-%COMP%], .main-heading[_ngcontent-%COMP%]{text-align:left;text-justify:auto}.main-heading[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:var(--ion-color-dark-orange)}.sub-heading[_ngcontent-%COMP%]{font-size:1.3rem}.opt-heading[_ngcontent-%COMP%], .sub-heading[_ngcontent-%COMP%]{color:var(--ion-color-href-black);text-align:left;text-justify:auto;margin-top:1rem}.footer-text[_ngcontent-%COMP%], .opt-heading[_ngcontent-%COMP%]{font-size:1.2rem}.footer-text[_ngcontent-%COMP%]{color:var(--ion-color-href-black);text-align:left;text-justify:auto;margin-top:1.1rem}"]}),n})()}];let f=(()=>{class n{}return n.\u0275mod=h.Jb({type:n}),n.\u0275inj=h.Ib({factory:function(o){return new(o||n)},imports:[[a.i.forChild(m)],a.i]}),n})(),u=(()=>{class n{}return n.\u0275mod=h.Jb({type:n}),n.\u0275inj=h.Ib({factory:function(o){return new(o||n)},imports:[[i.b,e.f,r.N,f]]}),n})()}}]);