function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{Jqhu:function(n,t,e){"use strict";e.r(t),e.d(t,"AssessmentDemoPreviewIosPageModule",(function(){return P}));var o=e("ofXK"),i=e("3Pt+"),r=e("TEn/"),a=e("tyNb"),s=e("mrSG"),c=e("X7yx"),l=e("5dVO"),d=e("riPR"),g=e("ZJFI"),p=e("1vjY"),h=e("VDsr"),m=e("fXoL");function u(n,t){if(1&n){var e=m.Pb();m.Ob(0,"ion-card",13),m.Wb("click",(function(){m.gc(e);var n=t.$implicit;return m.Yb(2).ViewVideo(n)})),m.Ob(1,"ion-row",6),m.Ob(2,"ion-col",14),m.Ob(3,"ion-row",5),m.Ob(4,"p",15),m.mc(5),m.Nb(),m.Nb(),m.Nb(),m.Ob(6,"ion-col",16),m.Mb(7,"img",17),m.Nb(),m.Nb(),m.Nb()}if(2&n){var o=t.$implicit;m.Ab(5),m.nc(o.question)}}function b(n,t){if(1&n&&(m.Ob(0,"ion-content",5),m.Ob(1,"ion-row",6),m.Ob(2,"ion-col",6),m.Ob(3,"p",7),m.mc(4,"Click on the question to preview your video."),m.Nb(),m.Nb(),m.Nb(),m.Ob(5,"ion-list",5),m.lc(6,u,8,1,"ion-card",8),m.Ob(7,"ion-card",9),m.Ob(8,"ion-row",10),m.Ob(9,"ion-col",11),m.Ob(10,"ion-row",12),m.Ob(11,"ion-col",11),m.Ob(12,"p",7),m.mc(13,"You have successfully completed the video assessment practice."),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb()),2&n){var e=m.Yb();m.Ab(6),m.bc("ngForOf",e.assessment_data)}}function f(n,t){if(1&n&&(m.Ob(0,"ion-row",21),m.Ob(1,"ion-col",22),m.mc(2),m.Nb(),m.Nb()),2&n){var e=m.Yb(2);m.Ab(1),m.Cb(e.internet_background),m.Ab(1),m.oc(" ",e.internet_text," ")}}function _(n,t){if(1&n){var e=m.Pb();m.Ob(0,"ion-footer",18),m.lc(1,f,3,3,"ion-row",19),m.Ob(2,"ion-row",9),m.Ob(3,"ion-col",6),m.Ob(4,"ion-button",20),m.Wb("click",(function(){return m.gc(e),m.Yb().reshoot_video()})),m.mc(5," CLOSE "),m.Nb(),m.Nb(),m.Nb(),m.Nb()}if(2&n){var o=m.Yb();m.Ab(1),m.bc("ngIf",o.internet_indicator)}}var v,O,w,x=function(n){return n[n.Online=0]="Online",n[n.Offline=1]="Offline",n}({}),k=[{path:"",component:(v=function(){function n(t,e,o,i,r,a,s,c,l,d,g){_classCallCheck(this,n),this.platform=t,this.alertController=e,this.menu=o,this.navCtrl=i,this.modalCtrl=r,this.zone=a,this.events=s,this.ionLoader=c,this.ionAlert=l,this.database=d,this.atom=g,this.btn_isclicked=!1,this.json_profile={user_id:"",company_id:"",company_name:"",first_name:"",last_name:"",fullname:"",email:"",mobile:"",photo:"",co_photo:"",otp_pending:"",otc_pending:"",co_pending:"",token_no:"",payload:"",webauto_login:"",default_dboard_tab:""},this.json_get_archive={action:"get_single_archive",token_no:"",payload:"",sessionId:"",tokenId:"",archiveId:""},this.total_attempts=0,this.attempts_allowed=0,this.showPage=!1,this.lock_reshoot_button=!1,this.lock_reshoot_single_button=!1,this.lock_upload_button=!1,this.internet_indicator=!1,this.assessment_id=0,this.menu.enable(!0),this.showPage=!1,this.initializeApp()}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ionViewDidLeave",value:function(){try{this.events.unsubscribe("loginnetwork:online"),this.events.unsubscribe("loginnetwork:offline")}catch(n){}}},{key:"initializeApp",value:function(){var n=this;this.platform.ready().then((function(t){n.database.storage_get("device").then((function(t){t.token_no&&t.payload&&(n.json_profile=t,n.json_get_archive.token_no=t.token_no,n.json_get_archive.payload=t.payload,n.init_preview())})).catch((function(n){})),window.addEventListener("online",(function(){n.internetStatus=x.Online,n.zone.run((function(){n.internet_background="int-green",n.internet_text="YOU ARE ONLINE"})),n.internet_timer=setTimeout((function(){n.zone.run((function(){n.internet_indicator=!1}))}),1e4)})),window.addEventListener("offline",(function(){n.internetStatus=x.Offline,n.zone.run((function(){n.internet_background="int-red",n.internet_text="YOU ARE OFFLINE",n.internet_indicator=!0}))}))}))}},{key:"init_preview",value:function(){var n=this;this.assessment_data=[],this.database.storage_get("assessment_demo").then((function(t){t&&Object.keys(t).length>0?(Object.keys(t).forEach((function(e){var o=t[e].is_uploaded;parseInt(t[e].assessment_id)==parseInt(n.assessment_id)&&0==o&&(n.assessment_data.push(t[e]),n.assessment_data[e].file_size=1)})),n.showPage=!0):n.showPage=!0})).catch((function(t){n.showPage=!0}))}},{key:"ViewVideo",value:function(n){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.json_get_archive.sessionId=n.session_id,this.json_get_archive.tokenId=n.token_id,this.json_get_archive.archiveId=n.archive_id,this.atom.http_post(this.json_get_archive).subscribe((function(t){return Object(s.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.success){e.next=23;break}if("available"!==t.archive_status){e.next=20;break}return this.vonage_video_url=JSON.parse(t.archive_url),e.t0=this.modalCtrl,e.t1=h.a,e.t2={video_details:n,video_url:this.vonage_video_url},e.t3=!0,e.next=9,this.modalCtrl.getTop();case 9:return e.t4=e.sent,e.t5={component:e.t1,componentProps:e.t2,swipeToClose:e.t3,presentingElement:e.t4},e.next=13,e.t0.create.call(e.t0,e.t5);case 13:return o=e.sent,e.next=16,o.present();case 16:return e.next=18,o.onWillDismiss();case 18:e.next=21;break;case 20:this.vonage_video_url="",this.atom.presentToast("Unable to fetch video link. status is under process, please try again");case 21:e.next=24;break;case 23:this.vonage_video_url="",this.atom.presentToast("Unable to fetch video details, Please try again");case 24:case"end":return e.stop()}}),e,this)})))}),(function(n){e.vonage_video_url=""}),(function(){}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"reshoot_video",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.database.storage_get("assessment_demo").then((function(n){return Object(s.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n&&Object.keys(n).length>0,!t.t0){t.next=6;break}return t.next=4,Object.keys(n).forEach((function(t){return Object(s.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n[t].video_url;case 2:return o=e.sent,e.next=5,this.database.storage_remove(o).then((function(n){})).catch((function(n){}));case 5:case"end":return e.stop()}}),e,this)})))}));case 4:return t.next=6,this.database.storage_remove("assessment_demo").then((function(n){e.navCtrl.navigateRoot("/go-live/assessment-live")})).catch((function(n){}));case 6:case"end":return t.stop()}}),t,this)})))})).catch((function(n){}));case 2:case"end":return n.stop()}}),n,this)})))}},{key:"show_confirmation",value:function(n,t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:n,subHeader:t,backdropDismiss:!1,buttons:[{text:"Close",handler:function(){r.init_preview()}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:return e.next=7,i.onDidDismiss().then((function(n){o=n}));case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})))}}]),n}(),v.\u0275fac=function(n){return new(n||v)(m.Lb(r.T),m.Lb(r.b),m.Lb(r.Q),m.Lb(r.S),m.Lb(r.R),m.Lb(m.z),m.Lb(d.a),m.Lb(l.a),m.Lb(c.a),m.Lb(g.a),m.Lb(p.a))},v.\u0275cmp=m.Fb({type:v,selectors:[["app-assessment-demo-preview-ios"]],decls:8,vars:2,consts:[[1,"ion-no-border","ion-no-shadow"],["slot","start"],["autoHide","false"],["class","ion-no-margin ion-no-padding",4,"ngIf"],["class","ion-no-margin ion-no-padding ion-no-border ion-no-shadow","position","bottom",4,"ngIf"],[1,"ion-no-margin","ion-no-padding"],["size","12","size-sx","12","size-sm","12","size-md","12","size-lg","12","size-xl","12",1,"ion-no-margin","ion-no-padding"],[1,"sub-title"],["lines","none","class","ion-no-margin ion-no-padding shadow-box",3,"click",4,"ngFor","ngForOf"],["lines","none",1,"ion-no-margin","ion-no-padding"],["lines","none",1,"main-container","ion-text-center"],["size","12","size-sx","12","size-sm","12","size-md","12","size-lg","12","size-xl","12"],["lines","none",1,"reshoot-panel"],["lines","none",1,"ion-no-margin","ion-no-padding","shadow-box",3,"click"],["size","10","size-sx","10","size-sm","10","size-md","10","size-lg","10","size-xl","10",1,"ion-no-margin","ion-no-padding"],[1,"video-heading"],["size","2","size-sx","2","size-sm","2","size-md","2","size-lg","2","size-xl","2",1,"ion-no-margin","ion-no-padding","col-paddings","video-img-panel"],["src","assets/images/record.png","alt","Awarathon",1,"video-img"],["position","bottom",1,"ion-no-margin","ion-no-padding","ion-no-border","ion-no-shadow"],["class","ion-no-margin ion-no-padding","internet-container","",4,"ngIf"],["size","large","fill","solid","expand","block",1,"btnuploadfull",3,"click"],["internet-container","",1,"ion-no-margin","ion-no-padding"],["size","12","no-padding","","no-margin","","internet-container",""]],template:function(n,t){1&n&&(m.Ob(0,"ion-header",0),m.Ob(1,"ion-toolbar"),m.Ob(2,"ion-buttons",1),m.Mb(3,"ion-menu-button",2),m.Nb(),m.Ob(4,"ion-title"),m.mc(5,"Preview Assessment"),m.Nb(),m.Nb(),m.Nb(),m.lc(6,b,14,1,"ion-content",3),m.lc(7,_,6,1,"ion-footer",4)),2&n&&(m.Ab(6),m.bc("ngIf",!0===t.showPage),m.Ab(1),m.bc("ngIf",!0===t.showPage))},directives:[r.q,r.M,r.i,r.y,r.L,o.i,r.m,r.B,r.l,r.w,o.h,r.j,r.o,r.h],styles:['ion-menu-button[_ngcontent-%COMP%]{--color:var(--ion-color-primary-contrast)!important}.hide-me[_ngcontent-%COMP%]{display:none}.show-me[_ngcontent-%COMP%]{display:block}.uploading-video[_ngcontent-%COMP%]{background-color:#9adccb}.item-inner[_ngcontent-%COMP%]{padding-right:0!important}ion-label[_ngcontent-%COMP%]{margin:13px 0!important}.col-paddings[_ngcontent-%COMP%]{padding:15px 0}ion-card[_ngcontent-%COMP%]{box-shadow:none!important;width:100%}.main-container[_ngcontent-%COMP%]{height:100%;margin-top:20px;margin-bottom:20px}.center-vertical-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button-spinner[_ngcontent-%COMP%]{display:flex}.btnupload[_ngcontent-%COMP%]{padding:0 4px 0 0!important}.btnupload[_ngcontent-%COMP%], .btnuploadfull[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.3rem;font-weight:400;text-transform:none;--box-shadow:none;--border-radius:0px;--background:var(--ion-color-primary);--background-focused:var(--ion-color-primary);--background-hover:var(--ion-color-primary);--color:var(--ion-color-primary-contrast);height:45px;margin:0!important}.btnreshootquiz[_ngcontent-%COMP%], .btnuploadfull[_ngcontent-%COMP%]{padding:0!important}.btnreshootquiz[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;font-weight:400;text-transform:none;--box-shadow:none;--border-radius:0px;--background:var(--ion-color-teal);--background-focused:var(--ion-color-teal);--background-hover:var(--ion-color-teal);--color:var(--ion-color-primary-contrast);height:26px;margin:7px 5px 0 0!important}.btnuploadfull[_ngcontent-%COMP%]:hover:not(.disable-hover){background-color:var(--ion-color-primary)!important}.btnreshoot[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.3rem;font-weight:400;text-transform:none;--box-shadow:none;--border-radius:0px;--background:var(--ion-color-primary);--background-focused:var(--ion-color-primary);--background-hover:var(--ion-color-primary);--color:var(--ion-color-primary-contrast);height:45px;padding:0!important;margin:0!important}.btnreshoot[_ngcontent-%COMP%]:hover:not(.disable-hover){background-color:#dadada!important}.reshoot-panel[_ngcontent-%COMP%]{align-self:center;align-items:center}.reshoot-panel[_ngcontent-%COMP%], [shadow-box][_ngcontent-%COMP%]{text-align:center;align-content:center}[shadow-box][_ngcontent-%COMP%]{width:100%!important;background-color:#f7f7f7;height:auto!important;border-bottom:1px solid #fff!important;display:inline-block;vertical-align:top;margin-top:2px!important}.video-img[_ngcontent-%COMP%]{-o-object-fit:cover!important;object-fit:cover!important;align-self:center;display:flex;text-align:center;height:40px;width:40px;margin:0 auto}.video-heading[_ngcontent-%COMP%]{min-height:50px;font-size:1.3rem;font-weight:500;color:#393e41;letter-spacing:0;padding:15px 0}.video-heading[_ngcontent-%COMP%], [video-size][_ngcontent-%COMP%]{width:99%;height:auto!important;margin:0 5px 0 15px!important;text-align:justify;white-space:normal}[video-size][_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;color:#f53d3d;word-break:break-word;word-spacing:normal;min-height:22px;padding:0}.video-author[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:400;color:#393e41;margin:5px 0 0 15px!important}.vscorll[_ngcontent-%COMP%]{height:200px}.scroll-content[_ngcontent-%COMP%]{margin-top:70px;padding:0!important}.heading[_ngcontent-%COMP%]{font-size:1.4rem;line-height:2rem;vertical-align:middle;color:#feffff;margin-bottom:20px!important;background:#47cfad;border-radius:7px;min-height:50px;padding:15px 0}.heading[_ngcontent-%COMP%], .sub-title[_ngcontent-%COMP%]{font-weight:700;text-align:center;white-space:normal}.sub-title[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1.6rem;color:#f53d3d;margin:0 auto!important;height:50px;padding:15px}.sub-heading-i[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:500;line-height:22px;color:#3e4d55;text-align:justify;-moz-text-align-last:center;text-align-last:center;margin:10px 0 0}.upload-sub-heading[_ngcontent-%COMP%]{font-size:1.8rem;line-height:1.8rem}.upload-heading[_ngcontent-%COMP%], .upload-sub-heading[_ngcontent-%COMP%]{font-weight:700;text-align:center;vertical-align:middle;color:#47cfad;margin-bottom:20px!important}.upload-heading[_ngcontent-%COMP%]{font-size:2.2rem;line-height:2.2rem}.progress-wrapper[_ngcontent-%COMP%]{margin:0!important;padding:0!important;position:absolute;width:100%!important;background:#e9e9e9!important;float:left}.dcp-wrapper[_ngcontent-%COMP%], .progress-wrapper[_ngcontent-%COMP%], [ht20][_ngcontent-%COMP%]{height:20px!important}.dcp-wrapper[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:0}.percent[_ngcontent-%COMP%]{margin:0 0 2px!important;font-size:1.4rem!important;font-weight:600!important;line-height:1.5!important;z-index:1!important;position:relative!important;text-align:center}.dcp-loader-green[_ngcontent-%COMP%]{margin:0!important;padding:0!important;position:absolute;height:20px!important;float:left;z-index:0}.fadein-out[_ngcontent-%COMP%]{transition:all .1s ease-in-out}.progress-materializecss[_ngcontent-%COMP%]{position:relative;height:4px;display:block;width:100%;background-color:#42e5bd;border-radius:2px;margin:0;overflow:hidden}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]{background-color:#0e6751}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:before{-webkit-animation:indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:after, .progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:after{-webkit-animation:indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}@-webkit-keyframes indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}.progress-container[_ngcontent-%COMP%]{width:100%}']}),v)}],C=((w=function n(){_classCallCheck(this,n)}).\u0275mod=m.Jb({type:w}),w.\u0275inj=m.Ib({factory:function(n){return new(n||w)},imports:[[a.i.forChild(k)],a.i]}),w),P=((O=function n(){_classCallCheck(this,n)}).\u0275mod=m.Jb({type:O}),O.\u0275inj=m.Ib({factory:function(n){return new(n||O)},imports:[[o.b,i.f,r.N,C]]}),O)}}]);